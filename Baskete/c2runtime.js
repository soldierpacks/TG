// Generated by Construct 2, the HTML5 game and app creator :: http://www.scirra.com
'use strict';var m=!0,p=null,t=!1;function M(){return function(){}}function P(d){return function(){return this[d]}}function Q(d){return function(){return d}}var R,aa,ba,S,ca,da,fa,ga,ha,ia,ja,ka,la,pa,qa,ra,sa,U,ta,va,wa,xa,Ba,Ca,Da,Ea,Fa,Ga,Ja,Ka,La,Ma,V,Na,Oa,Pa,Qa,Ra,Sa,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,gb,hb,ib,jb,X,kb,lb,mb,Y,nb={};"function"!==typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===typeof"test".__proto__?function(d){return d.__proto__}:function(d){return d.constructor.prototype});
(function(){function d(b,f,a,k){this.set(b,f,a,k)}function h(){this.Hb=this.Gb=this.Jb=this.Ib=this.Xb=this.Wb=this.ab=this.$a=0}function l(){this.xc={};this.Ue=0;this.wf=[];this.we=m}function q(){this.jb=this.Dg=this.y=this.Rg=0}function e(b){this.gi=[];this.of(b)}R=function(b){window.console&&window.console.log&&window.console.log(b)};aa=function(b){return"undefined"===typeof b};ba=function(b){return"number"===typeof b};S=function(b){return"string"===typeof b};ca=function(b){return 0<b&&0===(b-
1&b)};da=function(b){return 0>b?-b:b};fa=function(b,f){return b>f?b:f};ga=function(b,f){return b<f?b:f};ha=Math.PI;ia=function(b){return b|0};ja=function(b,f,a,k,n,r,w,x){if(fa(b,a)<ga(n,w)||ga(b,a)>fa(n,w)||fa(f,k)<ga(r,x)||ga(f,k)>fa(r,x))return t;var s=n-b+w-a,v=r-f+x-k;b=a-b;f=k-f;n=w-n;r=x-r;x=da(f*n-r*b);return da(n*v-r*s)<=x&&da(b*v-f*s)<=x};d.prototype.set=function(b,a,c,k){this.left=b;this.top=a;this.right=c;this.bottom=k};d.prototype.width=function(){return this.right-this.left};d.prototype.height=
function(){return this.bottom-this.top};d.prototype.offset=function(b,a){this.left+=b;this.top+=a;this.right+=b;this.bottom+=a;return this};d.prototype.Kc=function(b,a){return b>=this.left&&b<=this.right&&a>=this.top&&a<=this.bottom};ka=d;h.prototype.wi=function(b){this.$a=b.left;this.ab=b.top;this.Wb=b.right;this.Xb=b.top;this.Ib=b.right;this.Jb=b.bottom;this.Gb=b.left;this.Hb=b.bottom};h.prototype.Xk=function(b,a){if(0===a)this.wi(b);else{var c=Math.sin(a),k=Math.cos(a),n=b.left*c,r=b.top*c,w=b.right*
c,c=b.bottom*c,x=b.left*k,s=b.top*k,v=b.right*k,k=b.bottom*k;this.$a=x-r;this.ab=s+n;this.Wb=v-r;this.Xb=s+w;this.Ib=v-c;this.Jb=k+w;this.Gb=x-c;this.Hb=k+n}};h.prototype.offset=function(b,a){this.$a+=b;this.ab+=a;this.Wb+=b;this.Xb+=a;this.Ib+=b;this.Jb+=a;this.Gb+=b;this.Hb+=a;return this};h.prototype.fj=function(b){b.left=ga(ga(this.$a,this.Wb),ga(this.Ib,this.Gb));b.top=ga(ga(this.ab,this.Xb),ga(this.Jb,this.Hb));b.right=fa(fa(this.$a,this.Wb),fa(this.Ib,this.Gb));b.bottom=fa(fa(this.ab,this.Xb),
fa(this.Jb,this.Hb))};h.prototype.Kc=function(b,a){var c=this.Wb-this.$a,k=this.Xb-this.ab,n=this.Ib-this.$a,r=this.Jb-this.ab,w=b-this.$a,x=a-this.ab,s=c*c+k*k,v=c*n+k*r,k=c*w+k*x,A=n*n+r*r,e=n*w+r*x,g=1/(s*A-v*v),c=(A*k-v*e)*g,s=(s*e-v*k)*g;if(0<=c&&0<s&&1>c+s)return m;c=this.Gb-this.$a;k=this.Hb-this.ab;s=c*c+k*k;v=c*n+k*r;k=c*w+k*x;g=1/(s*A-v*v);c=(A*k-v*e)*g;s=(s*e-v*k)*g;return 0<=c&&0<s&&1>c+s};la=h;pa=function(b,a){for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b};qa=function(b,a){var c,
k;a=ia(a);if(!(0>a||a>=b.length))if(0===a)b.shift();else if(a===b.length-1)b.pop();else{c=a;for(k=b.length-1;c<k;c++)b[c]=b[c+1];b.length=k}};ra=function(b,a){b.length=a.length;var c,k;c=0;for(k=a.length;c<k;c++)b[c]=a[c]};sa=function(b,a){var c=b.indexOf(a);-1!==c&&qa(b,c)};U=function(b){return b/(180/ha)};ta=function(b){return b*(180/ha)};va=function(b){b%=360;0>b&&(b+=360);return b};wa=function(b){b%=2*ha;0>b&&(b+=2*ha);return b};xa=function(b){return va(ta(b))};Ba=function(b){return wa(U(b))};
Ca=function(b,a,c,k){return Math.atan2(k-a,c-b)};Da=function(b,a){if(b===a)return 0;var c=Math.sin(b),k=Math.cos(b),n=Math.sin(a),r=Math.cos(a),c=c*n+k*r;return 1<=c?0:-1>=c?ha:Math.acos(c)};Ea=function(b,a,c){var k=Math.sin(b),n=Math.cos(b),r=Math.sin(a),w=Math.cos(a);return Math.acos(k*r+n*w)>c?0<n*r-k*w?wa(b+c):wa(b-c):wa(a)};Fa=function(b,a){var c=Math.sin(b),k=Math.cos(b),n=Math.sin(a),r=Math.cos(a);return 0>=k*n-c*r};Ga=function(b,a,c,k,n,r){if(0===c)return r?b:a;var w=Math.sin(c);c=Math.cos(c);
b-=k;a-=n;var x=b*w;b=b*c-a*w;a=a*c+x;return r?b+k:a+n};Ja=function(a,f,c,k){a=c-a;f=k-f;return Math.sqrt(a*a+f*f)};Ka=function(a,f){return!a!==!f};La=function(a){for(var f in a)if(a.hasOwnProperty(f))return m;return t};Ma=function(a){for(var f in a)a.hasOwnProperty(f)&&delete a[f]};var g=+new Date;V=function(){if("undefined"!==typeof window.performance){var a=window.performance;if("undefined"!==typeof a.now)return a.now();if("undefined"!==typeof a.webkitNow)return a.webkitNow();if("undefined"!==
typeof a.msNow)return a.msNow()}return Date.now()-g};l.prototype.contains=function(a){return this.xc.hasOwnProperty(a.toString())};l.prototype.add=function(a){var f=a.toString();this.xc.hasOwnProperty(f)||(this.xc[f]=a,this.Ue++,this.we=t);return this};l.prototype.remove=function(a){a=a.toString();this.xc.hasOwnProperty(a)&&(delete this.xc[a],this.Ue--,this.we=t);return this};l.prototype.clear=function(){Ma(this.xc);this.Ue=0;this.wf.length=0;this.we=m;return this};l.prototype.Oe=function(){return 0===
this.Ue};l.prototype.Fo=function(){if(!this.we){this.wf.length=this.Ue;var a,f=0;for(a in this.xc)this.xc.hasOwnProperty(a)&&(this.wf[f++]=this.xc[a]);this.we=m}};l.prototype.vf=function(){this.Fo();return this.wf};Na=l;q.prototype.add=function(a){this.y=a-this.Rg;this.Dg=this.jb+this.y;this.Rg=this.Dg-this.jb-this.y;this.jb=this.Dg};q.prototype.reset=function(){this.jb=this.Dg=this.y=this.Rg=0};Oa=q;Pa=function(a){return a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};e.prototype.of=function(a){this.Jk=
a;this.Kk=a.length/2;this.gi.length=a.length;this.ij=this.jj=-1;this.hj=0};e.prototype.Kn=function(){return!this.Jk.length};e.prototype.Wl=function(a,f,c){if(!(this.jj===a&&this.ij===f&&this.hj===c)){this.jj=a;this.ij=f;this.hj=c;var k,n,r,w=0,x=1,s=this.Jk,v=this.gi;0!==c&&(w=Math.sin(c),x=Math.cos(c));c=0;for(k=this.Kk;c<k;c++)n=s[2*c]*a,r=s[2*c+1]*f,v[2*c]=n*x-r*w,v[2*c+1]=r*x+n*w}};e.prototype.Kc=function(a,f){var c=this.gi;if(a===c[0]&&f===c[1])return m;var k,n,r,w=this.Kk,x=c[0],s=x,v=c[1],
A=v;for(k=1;k<w;k++)n=c[2*k],r=c[2*k+1],n<x&&(x=n),n>s&&(s=n),r<v&&(v=r),r>A&&(A=r);n=x-110;var v=v-101,s=s+131,A=A+120,e,g,d=0,l=0;for(k=0;k<w;k++)r=c[2*k],x=c[2*k+1],e=c[2*((k+1)%w)],g=c[2*((k+1)%w)+1],ja(n,v,a,f,r,x,e,g)&&d++,ja(s,A,a,f,r,x,e,g)&&l++;return 1===d%2||1===l%2};Qa=e;var a="lighter xor copy destination-over source-in destination-in source-out destination-out source-atop destination-atop".split(" ");Ra=function(b){return 0>=b||11<=b?"source-over":a[b-1]};Sa=function(a,f,c){if(c)switch(a.Fa=
c.ONE,a.Ca=c.ONE_MINUS_SRC_ALPHA,f){case 1:a.Fa=c.ONE;a.Ca=c.ONE;break;case 3:a.Fa=c.ONE;a.Ca=c.ZERO;break;case 4:a.Fa=c.ONE_MINUS_DST_ALPHA;a.Ca=c.ONE;break;case 5:a.Fa=c.DST_ALPHA;a.Ca=c.ZERO;break;case 6:a.Fa=c.ZERO;a.Ca=c.SRC_ALPHA;break;case 7:a.Fa=c.ONE_MINUS_DST_ALPHA;a.Ca=c.ZERO;break;case 8:a.Fa=c.ZERO;a.Ca=c.ONE_MINUS_SRC_ALPHA;break;case 9:a.Fa=c.DST_ALPHA;a.Ca=c.ONE_MINUS_SRC_ALPHA;break;case 10:a.Fa=c.ONE_MINUS_DST_ALPHA,a.Ca=c.SRC_ALPHA}};Ua=function(a){return Math.round(1E6*a)/1E6}})();
var ob="undefined"!==typeof Float32Array?Float32Array:Array;function pb(d){var h=new ob(3);d&&(h[0]=d[0],h[1]=d[1],h[2]=d[2]);return h}function qb(d){var h=new ob(16);d&&(h[0]=d[0],h[1]=d[1],h[2]=d[2],h[3]=d[3],h[4]=d[4],h[5]=d[5],h[6]=d[6],h[7]=d[7],h[8]=d[8],h[9]=d[9],h[10]=d[10],h[11]=d[11],h[12]=d[12],h[13]=d[13],h[14]=d[14],h[15]=d[15]);return h}
function rb(d,h){h[0]=d[0];h[1]=d[1];h[2]=d[2];h[3]=d[3];h[4]=d[4];h[5]=d[5];h[6]=d[6];h[7]=d[7];h[8]=d[8];h[9]=d[9];h[10]=d[10];h[11]=d[11];h[12]=d[12];h[13]=d[13];h[14]=d[14];h[15]=d[15]}function sb(d,h){var l=h[0],q=h[1];h=h[2];d[0]*=l;d[1]*=l;d[2]*=l;d[3]*=l;d[4]*=q;d[5]*=q;d[6]*=q;d[7]*=q;d[8]*=h;d[9]*=h;d[10]*=h;d[11]*=h}
function tb(d,h,l,q){q||(q=qb());var e,g,a,b,f,c,k,n,r=d[0],w=d[1];d=d[2];g=l[0];a=l[1];e=l[2];l=h[1];c=h[2];r===h[0]&&w===l&&d===c?(d=q,d[0]=1,d[1]=0,d[2]=0,d[3]=0,d[4]=0,d[5]=1,d[6]=0,d[7]=0,d[8]=0,d[9]=0,d[10]=1,d[11]=0,d[12]=0,d[13]=0,d[14]=0,d[15]=1):(l=r-h[0],c=w-h[1],k=d-h[2],n=1/Math.sqrt(l*l+c*c+k*k),l*=n,c*=n,k*=n,h=a*k-e*c,e=e*l-g*k,g=g*c-a*l,(n=Math.sqrt(h*h+e*e+g*g))?(n=1/n,h*=n,e*=n,g*=n):g=e=h=0,a=c*g-k*e,b=k*h-l*g,f=l*e-c*h,(n=Math.sqrt(a*a+b*b+f*f))?(n=1/n,a*=n,b*=n,f*=n):f=b=a=0,
q[0]=h,q[1]=a,q[2]=l,q[3]=0,q[4]=e,q[5]=b,q[6]=c,q[7]=0,q[8]=g,q[9]=f,q[10]=k,q[11]=0,q[12]=-(h*r+e*w+g*d),q[13]=-(a*r+b*w+f*d),q[14]=-(l*r+c*w+k*d),q[15]=1)}
(function(){function d(a){this.height=this.width=0;this.kj=pb([0,0,100]);this.ik=pb([0,0,0]);this.ol=pb([0,1,0]);this.Oi=pb([1,1,1]);this.Qh=qb();this.wb=qb();this.Yj=qb();this.$g=qb();this.m=a;this.Nj()}function h(a,b,f){this.m=a;this.pf=b;this.name=f;this.ub=a.getAttribLocation(b,"aPos");this.Sc=a.getAttribLocation(b,"aTex");this.gk=a.getUniformLocation(b,"matP");this.ae=a.getUniformLocation(b,"matMV");this.be=a.getUniformLocation(b,"opacity");this.hk=a.getUniformLocation(b,"samplerFront");this.ng=
a.getUniformLocation(b,"samplerBack");this.$d=a.getUniformLocation(b,"destStart");this.Zd=a.getUniformLocation(b,"destEnd");this.Nh=a.getUniformLocation(b,"seconds");this.Mh=a.getUniformLocation(b,"pixelWidth");this.Lh=a.getUniformLocation(b,"pixelHeight");this.Kh=a.getUniformLocation(b,"layerScale");this.be&&a.uniform1f(this.be,1);this.hk&&a.uniform1i(this.hk,0);this.ng&&a.uniform1i(this.ng,1);this.$d&&a.uniform2f(this.$d,0,0);this.Zd&&a.uniform2f(this.Zd,1,1);this.yd=t}function l(a,b){this.type=
a;this.D=b;this.m=b.m;this.hc=this.xb=this.wk=0;this.q=this.Gd=p;this.xi=[]}function q(a){--a;for(var b=1;32>b;b<<=1)a|=a>>b;return a+1}d.prototype.Nj=function(){var a=this.m,b;this.Zj=1;this.Vd=p;this.pj=1;a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);a.disable(a.CULL_FACE);a.disable(a.DEPTH_TEST);this.hq=a.getParameter(a.MAX_TEXTURE_SIZE);this.$j=a.ONE;this.Xj=a.ONE_MINUS_SRC_ALPHA;this.di=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,
this.di);this.yf=Array(4);this.tf=Array(4);for(b=0;4>b;b++)this.yf[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.yf[b]),this.tf[b]=a.createBuffer(),a.bindBuffer(a.ARRAY_BUFFER,this.tf[b]);this.sc=0;this.Bn=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,this.Bn);this.Mi=new Float32Array(16E3);this.Di=new Float32Array(16E3);this.$n=new Float32Array(32E3);for(var f=new Uint16Array(12E3),c=b=0;12E3>b;)f[b++]=c,f[b++]=c+1,f[b++]=c+2,f[b++]=c,f[b++]=c+2,f[b++]=c+3,c+=4;a.bufferData(a.ELEMENT_ARRAY_BUFFER,
f,a.STATIC_DRAW);this.ei=this.oc=0;this.ra=[];b=this.Xg({src:"varying mediump vec2 vTex;\nuniform lowp float opacity;\nuniform lowp sampler2D samplerFront;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, vTex);\n\tgl_FragColor *= opacity;\n}"},"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}","<default>");
this.ra.push(b);b=this.Xg({src:"uniform mediump sampler2D samplerFront;\nvarying lowp float opacity;\nvoid main(void) {\n\tgl_FragColor = texture2D(samplerFront, gl_PointCoord);\n\tgl_FragColor *= opacity;\n}"},"attribute vec4 aPos;\nvarying float opacity;\nuniform mat4 matP;\nuniform mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tgl_PointSize = aPos.z;\n\topacity = aPos.w;\n}","<point>");this.ra.push(b);for(var k in ub)ub.hasOwnProperty(k)&&this.ra.push(this.Xg(ub[k],
"attribute highp vec2 aPos;\nattribute mediump vec2 aTex;\nvarying mediump vec2 vTex;\nuniform highp mat4 matP;\nuniform highp mat4 matMV;\nvoid main(void) {\n\tgl_Position = matP * matMV * vec4(aPos.x, aPos.y, 0.0, 1.0);\n\tvTex = aTex;\n}",k));a.activeTexture(a.TEXTURE0);a.bindTexture(a.TEXTURE_2D,p);this.Jc=[];this.rc=0;this.rb=this.Ra=t;this.qj=this.Ve=-1;this.ze=p;this.Pm=a.createFramebuffer();this.Nk=p;this.ed=pb([0,0,0]);a=a.getParameter(a.ALIASED_POINT_SIZE_RANGE);this.iq=a[0];this.gq=a[1];
this.lc(0)};d.prototype.Xg=function(a,b,f){var c=this.m,k=c.createShader(c.FRAGMENT_SHADER);c.shaderSource(k,a.src);c.compileShader(k);if(!c.getShaderParameter(k,c.COMPILE_STATUS))return c.deleteShader(k),p;var n=c.createShader(c.VERTEX_SHADER);c.shaderSource(n,b);c.compileShader(n);if(!c.getShaderParameter(n,c.COMPILE_STATUS))return c.deleteShader(k),c.deleteShader(n),p;b=c.createProgram();c.attachShader(b,k);c.attachShader(b,n);c.linkProgram(b);if(!c.getProgramParameter(b,c.LINK_STATUS))return c.deleteShader(k),
c.deleteShader(n),c.deleteProgram(b),p;c.useProgram(b);c.validateProgram(b);c.deleteShader(k);c.deleteShader(n);f=new h(c,b,f);f.gh=a.gh||0;f.hh=a.hh||0;f.oj=!!a.oj;f.cj=!!a.cj;f.n=a.n||[];a=0;for(k=f.n.length;a<k;a++)f.n[a][1]=c.getUniformLocation(b,f.n[a][0]),c.uniform1f(f.n[a][1],0);return f};d.prototype.sh=function(a){var b,f;b=0;for(f=this.ra.length;b<f;b++)if(this.ra[b].name===a)return b;return-1};d.prototype.Ik=function(a,b,f){var c=[0,0,this.width,this.height],k=this.wb,n=this.Qh,r=[0,0,0,
0,0,0,0,0];r[0]=k[0]*a+k[4]*b+k[12];r[1]=k[1]*a+k[5]*b+k[13];r[2]=k[2]*a+k[6]*b+k[14];r[3]=k[3]*a+k[7]*b+k[15];r[4]=n[0]*r[0]+n[4]*r[1]+n[8]*r[2]+n[12]*r[3];r[5]=n[1]*r[0]+n[5]*r[1]+n[9]*r[2]+n[13]*r[3];r[6]=n[2]*r[0]+n[6]*r[1]+n[10]*r[2]+n[14]*r[3];r[7]=-r[2];0!==r[7]&&(r[7]=1/r[7],r[4]*=r[7],r[5]*=r[7],r[6]*=r[7],f[0]=(0.5*r[4]+0.5)*c[2]+c[0],f[1]=(0.5*r[5]+0.5)*c[3]+c[1])};d.prototype.vi=function(a,b,f){if(!(this.width===a&&this.height===b&&!f)){this.vd();this.width=a;this.height=b;this.m.viewport(0,
0,a,b);b=a/b;var c=this.Qh,k;k=1*Math.tan(45*Math.PI/360);b*=k;a=-b;f=-k;c||(c=qb());var n=b-a,r=k-f;c[0]=2/n;c[1]=0;c[2]=0;c[3]=0;c[4]=0;c[5]=2/r;c[6]=0;c[7]=0;c[8]=(b+a)/n;c[9]=(k+f)/r;c[10]=-1001/999;c[11]=-1;c[12]=0;c[13]=0;c[14]=-2E3/999;c[15]=0;tb(this.kj,this.ik,this.ol,this.wb);a=[0,0];b=[0,0];this.Ik(0,0,a);this.Ik(1,1,b);this.Oi[0]=1/(b[0]-a[0]);this.Oi[1]=-1/(b[1]-a[1]);a=0;for(b=this.ra.length;a<b;a++)f=this.ra[a],f.yd=t,f.gk&&(this.m.useProgram(f.pf),this.m.uniformMatrix4fv(f.gk,t,this.Qh));
this.m.useProgram(this.ra[this.Ve].pf);this.m.bindTexture(this.m.TEXTURE_2D,p);this.Vd=p}};d.prototype.Xc=function(){tb(this.kj,this.ik,this.ol,this.wb);sb(this.wb,this.Oi)};d.prototype.translate=function(a,b){if(!(0===a&&0===b)){this.ed[0]=a;this.ed[1]=b;this.ed[2]=0;var f=this.wb,c=this.ed,k=c[0],n=c[1],c=c[2];f[12]=f[0]*k+f[4]*n+f[8]*c+f[12];f[13]=f[1]*k+f[5]*n+f[9]*c+f[13];f[14]=f[2]*k+f[6]*n+f[10]*c+f[14];f[15]=f[3]*k+f[7]*n+f[11]*c+f[15]}};d.prototype.scale=function(a,b){1===a&&1===b||(this.ed[0]=
a,this.ed[1]=b,this.ed[2]=1,sb(this.wb,this.ed))};d.prototype.Ok=function(a){if(0!==a){var b=this.wb,f,c=Math.sin(a);a=Math.cos(a);var k=b[0],n=b[1],r=b[2],w=b[3],x=b[4],s=b[5],v=b[6],A=b[7];f?b!==f&&(f[8]=b[8],f[9]=b[9],f[10]=b[10],f[11]=b[11],f[12]=b[12],f[13]=b[13],f[14]=b[14],f[15]=b[15]):f=b;f[0]=k*a+x*c;f[1]=n*a+s*c;f[2]=r*a+v*c;f[3]=w*a+A*c;f[4]=k*-c+x*a;f[5]=n*-c+s*a;f[6]=r*-c+v*a;f[7]=w*-c+A*a}};d.prototype.gd=function(){for(var a=t,b=0;16>b;b++)if(this.Yj[b]!==this.wb[b]){a=m;break}a&&(a=
this.Qb(),a.type=5,a.q?rb(this.wb,a.q):a.q=qb(this.wb),rb(this.wb,this.Yj),this.rb=this.Ra=t)};l.prototype.nm=function(){this.m.bindTexture(this.m.TEXTURE_2D,this.Gd)};l.prototype.km=function(){var a=this.wk,b=this.D;b.pj=a;b=b.ze;b.be&&this.m.uniform1f(b.be,a)};l.prototype.hm=function(){this.m.drawElements(this.m.TRIANGLES,this.hc,this.m.UNSIGNED_SHORT,2*this.xb)};l.prototype.jm=function(){this.m.blendFunc(this.xb,this.hc)};l.prototype.om=function(){var a,b,f,c=this.D.ra,k=this.D.qj;a=0;for(b=c.length;a<
b;a++)f=c[a],a===k&&f.ae?(this.m.uniformMatrix4fv(f.ae,t,this.q),f.yd=m):f.yd=t;rb(this.q,this.D.$g)};l.prototype.im=function(){var a=this.m,b=this.D;this.Gd?(a.bindFramebuffer(a.FRAMEBUFFER,b.Pm),a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,this.Gd,0)):(a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,p,0),a.bindFramebuffer(a.FRAMEBUFFER,p))};l.prototype.fm=function(){var a=this.m;0===this.xb?(a.clearColor(this.q[0],this.q[1],this.q[2],this.q[3]),a.clear(a.COLOR_BUFFER_BIT)):
(a.enable(a.SCISSOR_TEST),a.scissor(this.q[0],this.q[1],this.q[2],this.q[3]),a.clearColor(0,0,0,0),a.clear(this.m.COLOR_BUFFER_BIT),a.disable(a.SCISSOR_TEST))};l.prototype.gm=function(){var a=this.m,b=this.D,f=b.ra[1];a.useProgram(f.pf);!f.yd&&f.ae&&(a.uniformMatrix4fv(f.ae,t,b.$g),f.yd=m);a.enableVertexAttribArray(f.ub);a.bindBuffer(a.ARRAY_BUFFER,b.di);a.vertexAttribPointer(f.ub,4,a.FLOAT,t,0,0);a.drawArrays(a.POINTS,this.xb/4,this.hc);f=b.ze;a.useProgram(f.pf);0<=f.ub&&(a.enableVertexAttribArray(f.ub),
a.bindBuffer(a.ARRAY_BUFFER,b.yf[b.sc]),a.vertexAttribPointer(f.ub,2,a.FLOAT,t,0,0));0<=f.Sc&&(a.enableVertexAttribArray(f.Sc),a.bindBuffer(a.ARRAY_BUFFER,b.tf[b.sc]),a.vertexAttribPointer(f.Sc,2,a.FLOAT,t,0,0))};l.prototype.lm=function(){var a=this.m,b=this.D,f=b.ra[this.xb];b.qj=this.xb;b.ze=f;a.useProgram(f.pf);!f.yd&&f.ae&&(a.uniformMatrix4fv(f.ae,t,b.$g),f.yd=m);f.be&&a.uniform1f(f.be,b.pj);0<=f.ub&&(a.enableVertexAttribArray(f.ub),a.bindBuffer(a.ARRAY_BUFFER,b.yf[b.sc]),a.vertexAttribPointer(f.ub,
2,a.FLOAT,t,0,0));0<=f.Sc&&(a.enableVertexAttribArray(f.Sc),a.bindBuffer(a.ARRAY_BUFFER,b.tf[b.sc]),a.vertexAttribPointer(f.Sc,2,a.FLOAT,t,0,0))};l.prototype.mm=function(){var a,b,f=this.D.ze,c=this.m;f.ng&&(c.activeTexture(c.TEXTURE1),c.bindTexture(c.TEXTURE_2D,this.Gd),c.activeTexture(c.TEXTURE0));f.Mh&&c.uniform1f(f.Mh,this.q[0]);f.Lh&&c.uniform1f(f.Lh,this.q[1]);f.$d&&c.uniform2f(f.$d,this.q[2],this.q[3]);f.Zd&&c.uniform2f(f.Zd,this.q[4],this.q[5]);f.Kh&&c.uniform1f(f.Kh,this.q[6]);f.Nh&&c.uniform1f(f.Nh,
V()/1E3);if(f.n.length){a=0;for(b=f.n.length;a<b;a++)c.uniform1f(f.n[a][1],this.xi[a])}};d.prototype.Qb=function(){this.rc===this.Jc.length&&this.Jc.push(new l(0,this));return this.Jc[this.rc++]};d.prototype.vd=function(){if(0!==this.rc&&!this.m.isContextLost()){var a=this.m;0<this.ei&&(a.bindBuffer(a.ARRAY_BUFFER,this.di),a.bufferData(a.ARRAY_BUFFER,this.$n.subarray(0,this.ei),a.STREAM_DRAW),b&&(0<=b.ub&&"<point>"===b.name)&&a.vertexAttribPointer(b.ub,4,a.FLOAT,t,0,0));if(0<this.oc){var b=this.ze;
a.bindBuffer(a.ARRAY_BUFFER,this.yf[this.sc]);a.bufferData(a.ARRAY_BUFFER,this.Mi.subarray(0,this.oc),a.STREAM_DRAW);b&&(0<=b.ub&&"<point>"!==b.name)&&a.vertexAttribPointer(b.ub,2,a.FLOAT,t,0,0);a.bindBuffer(a.ARRAY_BUFFER,this.tf[this.sc]);a.bufferData(a.ARRAY_BUFFER,this.Di.subarray(0,this.oc),a.STREAM_DRAW);b&&(0<=b.Sc&&"<point>"!==b.name)&&a.vertexAttribPointer(b.Sc,2,a.FLOAT,t,0,0)}for(var f,a=0,b=this.rc;a<b;a++)switch(f=this.Jc[a],f.type){case 1:f.hm();break;case 2:f.nm();break;case 3:f.km();
break;case 4:f.jm();break;case 5:f.om();break;case 6:f.im();break;case 7:f.fm();break;case 8:f.gm();break;case 9:f.lm();break;case 10:f.mm()}this.ei=this.oc=this.rc=0;this.rb=this.Ra=t;this.sc++;4<=this.sc&&(this.sc=0)}};d.prototype.nf=function(a){if(a!==this.Zj){var b=this.Qb();b.type=3;this.Zj=b.wk=a;this.rb=this.Ra=t}};d.prototype.Tb=function(a){if(a!==this.Vd){var b=this.Qb();b.type=2;this.Vd=b.Gd=a;this.rb=this.Ra=t}};d.prototype.Yc=function(a,b){if(!(a===this.$j&&b===this.Xj)){var f=this.Qb();
f.type=4;f.xb=a;f.hc=b;this.$j=a;this.Xj=b;this.rb=this.Ra=t}};d.prototype.Uk=function(){this.Yc(this.m.ONE,this.m.ONE_MINUS_SRC_ALPHA)};d.prototype.yg=function(a,b,f,c,k,n,r,w){15992<=this.oc&&this.vd();var x=this.oc,s=this.Mi,v=this.Di;if(this.Ra)this.Jc[this.rc-1].hc+=6;else{var A=this.Qb();A.type=1;A.xb=3*(x/4);A.hc=6;this.Ra=m;this.rb=t}s[x]=a;v[x++]=0;s[x]=b;v[x++]=0;s[x]=f;v[x++]=1;s[x]=c;v[x++]=0;s[x]=k;v[x++]=1;s[x]=n;v[x++]=1;s[x]=r;v[x++]=0;s[x]=w;v[x++]=1;this.oc=x};d.prototype.Fd=function(a,
b,f,c,k,n,r,w,x){15992<=this.oc&&this.vd();var s=this.oc,v=this.Mi,A=this.Di;if(this.Ra)this.Jc[this.rc-1].hc+=6;else{var e=this.Qb();e.type=1;e.xb=3*(s/4);e.hc=6;this.Ra=m;this.rb=t}v[s]=a;A[s++]=x.left;v[s]=b;A[s++]=x.top;v[s]=f;A[s++]=x.right;v[s]=c;A[s++]=x.top;v[s]=k;A[s++]=x.right;v[s]=n;A[s++]=x.bottom;v[s]=r;A[s++]=x.left;v[s]=w;A[s++]=x.bottom;this.oc=s};d.prototype.lc=function(a){if(this.Ve!==a){if(!this.ra[a]){if(0===this.Ve)return;a=0}var b=this.Qb();b.type=9;this.Ve=b.xb=a;this.rb=this.Ra=
t}};d.prototype.hf=function(a){a=this.ra[a];return!(!a.$d&&!a.Zd)};d.prototype.fi=function(a){return this.ra[a].oj};d.prototype.fo=function(a){a=this.ra[a];return 0!==a.gh||0!==a.hh};d.prototype.gn=function(a){return this.ra[a].gh};d.prototype.hn=function(a){return this.ra[a].hh};d.prototype.jn=function(a,b){return this.ra[a].n[b][2]};d.prototype.xg=function(a){return this.ra[a].cj};d.prototype.le=function(a,b,f,c,k,n,r,w,x){var s=this.ra[this.Ve];if(s.Mh||s.Lh||s.Nh||s.ng||s.$d||s.Zd||s.Kh||x.length){s=
this.Qb();s.type=10;s.q?rb(this.wb,s.q):s.q=qb();s.q[0]=b;s.q[1]=f;s.q[2]=c;s.q[3]=k;s.q[4]=n;s.q[5]=r;s.q[6]=w;s.Gd=a;if(x.length){s.xi.length=x.length;a=0;for(b=x.length;a<b;a++)s.xi[a]=x[a]}this.rb=this.Ra=t}};d.prototype.clear=function(a,b,f,c){var k=this.Qb();k.type=7;k.xb=0;k.q||(k.q=qb());k.q[0]=a;k.q[1]=b;k.q[2]=f;k.q[3]=c;this.rb=this.Ra=t};d.prototype.clearRect=function(a,b,f,c){var k=this.Qb();k.type=7;k.xb=1;k.q||(k.q=qb());k.q[0]=a;k.q[1]=b;k.q[2]=f;k.q[3]=c;this.rb=this.Ra=t};d.prototype.eo=
function(){this.vd();this.m.flush()};var e=[],g={};d.prototype.fk=function(a,b,f){var c;c=!!t;b=!!b;var k=a.src+","+c+","+b+(c?",undefined":""),n=p;if("undefined"!==typeof a.src&&g.hasOwnProperty(k))return n=g[k],n.Df++,n;this.vd();var r=this.m,w=ca(a.width)&&ca(a.height),n=r.createTexture();r.bindTexture(r.TEXTURE_2D,n);r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,m);var x=r.RGBA,s=r.RGBA,v=r.UNSIGNED_BYTE;if(f)switch(f){case 1:s=x=r.RGB;break;case 2:v=r.UNSIGNED_SHORT_4_4_4_4;break;case 3:v=r.UNSIGNED_SHORT_5_5_5_1;
break;case 4:s=x=r.RGB,v=r.UNSIGNED_SHORT_5_6_5}!w&&c?(f=document.createElement("canvas"),f.width=q(a.width),f.height=q(a.height),f.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,f.width,f.height),r.texImage2D(r.TEXTURE_2D,0,x,s,v,f)):r.texImage2D(r.TEXTURE_2D,0,x,s,v,a);c?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.REPEAT),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.REPEAT)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,
r.CLAMP_TO_EDGE));b?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),w?(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_LINEAR),r.generateMipmap(r.TEXTURE_2D)):r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR)):(r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST));r.bindTexture(r.TEXTURE_2D,p);this.Vd=p;n.ve=a.width;n.ue=a.height;n.Df=1;n.gj=k;e.push(n);return g[k]=n};d.prototype.Lc=function(a,
b,f){this.vd();var c=this.m,k=c.createTexture();c.bindTexture(c.TEXTURE_2D,k);c.texImage2D(c.TEXTURE_2D,0,c.RGBA,a,b,0,c.RGBA,c.UNSIGNED_BYTE,p);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,f?c.LINEAR:c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,f?c.LINEAR:c.NEAREST);c.bindTexture(c.TEXTURE_2D,p);this.Vd=p;k.ve=a;k.ue=b;e.push(k);return k};d.prototype.deleteTexture=
function(a){a&&("undefined"!==typeof a.Df&&1<a.Df?a.Df--:(this.vd(),this.m.bindTexture(this.m.TEXTURE_2D,p),this.Vd=p,sa(e,a),"undefined"!==typeof a.gj&&delete g[a.gj],this.m.deleteTexture(a)))};d.prototype.Dc=function(a){if(a!==this.Nk){var b=this.Qb();b.type=6;this.Nk=b.Gd=a;this.rb=this.Ra=t}};Va=d})();
(function(){function d(n){if(n&&(n.getContext||n.dc)&&!n.c2runtime){n.c2runtime=this;var a=this;this.Bd="undefined"!==typeof window.device&&("undefined"!==typeof window.device.cordova||"undefined"!==typeof window.device.phonegap);this.sb=!!n.dc;this.Rd="undefined"!==typeof window.AppMobi||this.sb;if(this.ic=!!window.c2cocoonjs)CocoonJS.App.onSuspended.addEventListener(function(){a.setSuspended(m)}),CocoonJS.App.onActivated.addEventListener(function(){a.setSuspended(t)});this.Ua=this.sb||this.ic;this.$f=
/tizen/i.test(navigator.userAgent);this.Qj=/android/i.test(navigator.userAgent)&&!this.$f;this.bq=/msie/i.test(navigator.userAgent);this.eg=/iphone/i.test(navigator.userAgent)||/ipod/i.test(navigator.userAgent);this.Vj=/ipad/i.test(navigator.userAgent);this.dg=this.eg||this.Vj;this.Rj=/chrome/i.test(navigator.userAgent)||/chromium/i.test(navigator.userAgent);this.Fn=!this.Rj&&/safari/i.test(navigator.userAgent);this.Tj=/windows/i.test(navigator.userAgent);this.Pe="undefined"!==typeof window.c2nodewebkit;
this.Dn="undefined"!==typeof window.is_scirra_arcade;this.In=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);this.Jn=!!("undefined"!==typeof window.c2isWindowsPhone8&&window.c2isWindowsPhone8);this.En=!!("undefined"!==typeof window.c2isBlackberry10&&window.c2isBlackberry10);this.devicePixelRatio=1;this.Sd=this.Bd||this.Rd||this.ic||this.Qj||this.dg||this.Jn||this.En||this.$f;this.Sd||(this.Sd=/(blackberry|bb10|playbook|palm|symbian|nokia|windows\s+ce|phone|mobile|tablet)/i.test(navigator.userAgent));
if("undefined"!==typeof cr_is_preview&&!this.Pe&&("?nw"===window.location.search||/nodewebkit/i.test(navigator.userAgent)))this.Pe=m;this.canvas=n;this.lj=document.getElementById("c2canvasdiv");this.P=this.D=this.m=p;this.canvas.oncontextmenu=function(n){n.preventDefault&&n.preventDefault();return t};this.canvas.onselectstart=function(n){n.preventDefault&&n.preventDefault();return t};this.sb&&(window.c2runtime=this);this.Pe&&(window.kq=function(n){n.preventDefault();return t},window.lq=function(n){n.preventDefault();
return t});this.width=n.width;this.height=n.height;this.ck=this.width;this.bk=this.height;this.V=m;this.Re=t;Date.now||(Date.now=function(){return+new Date});this.plugins=[];this.types={};this.i=[];this.fa=[];this.Ih={};this.Ob=[];this.fh={};this.wd=[];this.hd=[];this.Hg=[];this.Rl=[];this.$b=new Na;this.Ah=t;this.wc=0;this.Ch=t;this.Zb=[];this.Sj=t;this.yc=this.Ha=this.lg=this.si="";this.rf=this.$k=t;this.Jo=this.Wg=this.qg=this.Mc=this.ud=0;this.Hd=1;this.Mb=new Oa;this.ig=0;this.jk=m;this.rg=this.Qf=
this.Nf=this.uf=this.We=this.jh=0;this.Ug=p;this.bh=[];this.eh=[];this.Lf=-1;this.Oh=[[]];this.Ii=this.pg=0;this.ii(p);this.dq=[];this.fq=-1;this.nk=this.bf=0;this.ek=m;this.Be=0;this.sf=[];this.Fi=this.ji=0;this.fg=m;this.Yd=0;this.Zf=t;this.xo=0;this.Wf=t;this.Vh=new Na;this.Wh=new Na;this.jo=[];this.nq=new Qa([]);this.oq=new Qa([]);this.Ld=[];this.zf={};this.Nd={};this.Kd={};this.pe={};this.ej={};this.Nb=this.ib=this.dk=this.kg=this.O=p;this.oe=this.Dh=t;this.kh=[p,p];this.Ee=0;this.Qm="";this.fe=
{};this.Cg=this.Xd=p;this.wo="";this.load();this.devicePixelRatio=(this.Qe=!this.Ua&&this.Ho&&(this.dg||this.$f))?window.devicePixelRatio||1:1;this.Ba();var w;"undefined"!==typeof jQuery&&0<this.pb&&this.setSize(jQuery(window).width(),jQuery(window).height());try{if(this.qm&&(this.ic||!this.Ua)){w={depth:t,antialias:!this.Sd};var b=m;if(this.Rj&&this.Tj){var k=document.createElement("canvas");if("OES_texture_float,OES_standard_derivatives,WEBKIT_WEBGL_lose_context"===(k.getContext("webgl",w)||k.getContext("experimental-webgl",
w)).getSupportedExtensions().toString())b=t}b&&(this.m=n.getContext("webgl",w)||n.getContext("experimental-webgl",w))}}catch(v){}if(this.m){this.Ua||(this.Ma=document.createElement("canvas"),jQuery(this.Ma).appendTo(this.canvas.parentNode),this.Ma.oncontextmenu=Q(t),this.Ma.onselectstart=Q(t),this.Ma.width=n.width,this.Ma.height=n.height,this.Gk(),this.bi=this.Ma.getContext("2d"));this.D=new Va(this.m,this.Sd);this.D.vi(n.width,n.height);this.P=p;this.canvas.addEventListener("webglcontextlost",function(n){n.preventDefault();
a.Pn();window.cr_setSuspended(m)},t);this.canvas.addEventListener("webglcontextrestored",function(){a.D.Nj();a.D.vi(a.D.width,a.D.height,m);a.ib=p;a.Nb=p;a.kh[0]=p;a.kh[1]=p;a.Qn();a.V=m;window.cr_setSuspended(t)},t);var c,f,e,g,d;n=0;for(w=this.i.length;n<w;n++){c=this.i[n];b=0;for(k=c.A.length;b<k;b++)e=c.A[b],e.Aa=this.D.sh(e.id),this.oe=this.oe||this.D.hf(e.Aa)}n=0;for(w=this.Ob.length;n<w;n++){g=this.Ob[n];b=0;for(k=g.A.length;b<k;b++)e=g.A[b],e.Aa=this.D.sh(e.id);b=0;for(k=g.K.length;b<k;b++){d=
g.K[b];c=0;for(f=d.A.length;c<f;c++)e=d.A[c],e.Aa=this.D.sh(e.id),this.oe=this.oe||this.D.hf(e.Aa)}}}else{if(0<this.pb&&this.sb){this.canvas=p;document.oncontextmenu=Q(t);document.onselectstart=Q(t);this.P=AppMobi.canvas.getContext("2d");try{this.P.samplingMode=this.la?"smooth":"sharp",this.P.globalScale=1,this.P.HTML5CompatibilityMode=m}catch(l){}0!==this.width&&0!==this.height&&(this.P.width=this.width,this.P.height=this.height)}this.P||(this.ic?(w={antialias:!!this.la},this.P=n.getContext("2d",
w)):this.P=n.getContext("2d"),this.P.webkitImageSmoothingEnabled=this.la,this.P.mozImageSmoothingEnabled=this.la,this.P.msImageSmoothingEnabled=this.la,this.P.imageSmoothingEnabled=this.la);this.bi=this.Ma=p}this.fl=function(){a.Na()};window!=window.top&&(!this.Ua&&!this.In)&&(document.addEventListener("mousedown",function(){window.focus()},m),document.addEventListener("touchstart",function(){window.focus()},m));"undefined"!==typeof cr_is_preview&&(this.ic&&console.log("[Construct 2] In preview-over-wifi via CocoonJS mode"),
"?continuous"===window.location.search&&(R("Reloading for continuous preview"),this.lg="__c2_continuouspreview",this.rf=m),this.Zn&&!this.Sd&&(jQuery(window).focus(function(){a.setSuspended(t)}),jQuery(window).blur(function(){a.setSuspended(m)})));this.go();this.ba={}}}function h(n){n.target.result.createObjectStore("saves",{keyPath:"slot"})}function l(n,a,b,k){var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=h;c.onerror=k;c.onsuccess=function(c){c=c.target.result;c.onerror=k;c.transaction(["saves"],
"readwrite").objectStore("saves").put({slot:n,data:a}).onsuccess=b}}function q(n,a,b){var c=indexedDB.open("_C2SaveStates");c.onupgradeneeded=h;c.onerror=b;c.onsuccess=function(c){c=c.target.result;c.onerror=b;var k=c.transaction(["saves"]).objectStore("saves").get(n);k.onsuccess=function(){k.result?a(k.result.data):a(p)}}}function e(){R("Reloading for continuous preview");window.c2cocoonjs?CocoonJS.App.reload():"?continuous"===window.location.search?window.location.reload(m):window.location+="?continuous"}
function g(n){var a,b={};for(a in n)n.hasOwnProperty(a)&&!(n[a]instanceof Na)&&"undefined"===typeof n[a].Wp&&"mouseOverInverted"!==a&&(b[a]=n[a]);return b}d.prototype.setSize=function(n,a){var b=this.zn&&this.eg&&!navigator.standalone&&!this.Ua&&!this.Bd,c=0;b&&(this.eg?c=60:this.Qj&&(c=56),a+=c);var k=0,v=0,f=0,e=0,g=0,g=this.pb,d=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.Zf;d&&0<this.Ee&&(g=this.Ee);4<=g?(f=this.Xa/this.Wa,n/a>f?(f*=a,5===g?(g=f/this.Xa,1<g?
g=Math.floor(g):1>g&&(g=1/Math.ceil(1/g)),f=this.Xa*g,e=this.Wa*g,k=(n-f)/2,v=(a-e)/2,n=f,a=e):(k=(n-f)/2,n=f)):(e=n/f,5===g?(g=e/this.Wa,1<g?g=Math.floor(g):1>g&&(g=1/Math.ceil(1/g)),f=this.Xa*g,e=this.Wa*g,k=(n-f)/2,v=(a-e)/2,n=f):v=(a-e)/2,a=e),d&&!this.Pe&&(v=k=0),k=Math.floor(k),v=Math.floor(v),n=Math.floor(n),a=Math.floor(a)):this.Pe&&(this.Zf&&0===this.Aj)&&(k=Math.floor((n-this.Xa)/2),v=Math.floor((a-this.Wa)/2),n=this.Xa,a=this.Wa);this.Qe&&(this.Vj&&1<this.devicePixelRatio)&&(1024<=n&&(n=
1023),1024<=a&&(a=1023));d=this.devicePixelRatio;this.width=n*d;this.height=a*d;this.V=m;this.lj&&!this.Ua&&(jQuery(this.lj).css({width:n+"px",height:a+"px","margin-left":k,"margin-top":v}),"undefined"!==typeof cr_is_preview&&jQuery("#borderwrap").css({width:n+"px",height:a+"px"}));this.canvas&&(this.canvas.width=n*d,this.canvas.height=a*d,this.Qe&&jQuery(this.canvas).css({width:n+"px",height:a+"px"}));this.Ma&&(this.Ma.width=n,this.Ma.height=a);this.D&&this.D.vi(n,a);this.sb&&this.P&&(this.P.width=
n,this.P.height=a);this.P&&(this.P.webkitImageSmoothingEnabled=this.la,this.P.mozImageSmoothingEnabled=this.la,this.P.msImageSmoothingEnabled=this.la,this.P.imageSmoothingEnabled=this.la);b&&0<c&&window.setTimeout(function(){window.scrollTo(0,1)},100)};d.prototype.Pn=function(){this.Dh=m;var n,a,b;n=0;for(a=this.i.length;n<a;n++)b=this.i[n],b.rk&&b.rk()};d.prototype.Qn=function(){this.Dh=t;var n,a,b;n=0;for(a=this.i.length;n<a;n++)b=this.i[n],b.tk&&b.tk()};d.prototype.Gk=function(){if(!this.Ua){var n=
document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.Zf?jQuery(this.canvas).offset():jQuery(this.canvas).position();n.position="absolute";jQuery(this.Ma).css(n)}};var a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame||window.oCancelAnimationFrame;d.prototype.setSuspended=function(n){var r;if(n&&!this.Re){R("[Construct 2] Suspending");this.Re=m;0!==this.ji&&a&&a(this.ji);0!==this.Fi&&clearTimeout(this.Fi);
n=0;for(r=this.sf.length;n<r;n++)this.sf[n](m)}else if(!n&&this.Re){R("[Construct 2] Resuming");this.Re=t;this.ig=V();this.We=V();n=this.Qf=0;for(r=this.sf.length;n<r;n++)this.sf[n](t);this.Na()}};d.prototype.$i=function(n){this.sf.push(n)};d.prototype.load=function(){var n=vb();this.name=n[0];this.zj=n[1];this.pb=n[11];this.Aj=n[11];if(this.Ua&&(4<=n[11]||0===n[11]))R("[Construct 2] Letterbox scale fullscreen modes are not supported on this platform - falling back to 'Scale outer'"),this.Aj=this.pb=
3;this.Ki=n[17];this.Ye=n[18];0===this.Ye&&(this.Xd=new Image,this.Xd.src="loading-logo.png");this.bf=n[20];this.mc=new Z(this);var a,b,c,k,f,A,e,g,d;a=0;for(b=n[2].length;a<b;a++)e=n[2][a],wb(e),d=new e[0](this),d.Ai=e[1],d.Rc=e[2],d.mk=e[9],d.na&&d.na(),this.plugins.push(d);n=vb();a=0;for(b=n[3].length;a<b;a++){e=n[3][a];f=e[1];d=p;c=0;for(k=this.plugins.length;c<k;c++)if(this.plugins[c]instanceof f){d=this.plugins[c];break}var l=new d.Db(d);l.name=e[0];l.J=e[2];l.zh=e[3].slice(0);l.Io=e[3].length;
l.Tl=e[4];l.Tm=e[5];l.G=e[11];l.J?(l.lk=[],l.fc=this.Be++,l.T=p):(l.lk=p,l.fc=-1,l.T=[]);l.Of=p;l.Od=p;l.vj=p;l.Lb=t;l.La=p;e[6]?(l.cl=e[6][0],l.dl=e[6][1],l.Ao=e[6][2]):(l.cl=p,l.dl=0,l.Ao=0);l.Pa=e[7]?e[7]:p;l.index=a;l.c=[];l.If=[];l.ad=[new Wa(l)];l.tc=0;l.ac=p;l.cd=m;l.Ig=xb;l.$m=yb;l.en=zb;l.X=Ab;l.jf=Bb;l.hi=Cb;l.ke=Db;l.Rf=Ib;l.mh=Jb;l.oh=Kb;l.te=Lb;l.ba={};l.toString=Mb;l.fa=[];c=0;for(k=e[8].length;c<k;c++){g=e[8][c];var q=g[1],h=p;f=0;for(A=this.fa.length;f<A;f++)if(this.fa[f]instanceof
q){h=this.fa[f];break}h||(h=new q(this),h.Th=new Na,h.na&&h.na(),this.fa.push(h));f=new h.Db(h,l);f.name=g[0];f.G=g[2];f.na();l.fa.push(f)}l.global=e[9];l.Bh=e[10];l.A=[];c=0;for(k=e[12].length;c<k;c++)l.A.push({id:e[12][c][0],name:e[12][c][1],Aa:-1,pc:m,index:c});(!this.Ki||l.J||l.Bh||!d.Rc)&&l.na();l.name&&(this.types[l.name]=l);this.i.push(l);d.Ai&&(c=new d.Oa(l),c.uid=this.bf++,c.Lk=this.nk++,c.Ke=0,c.He=Nb,c.toString=Ob,c.za=e[13],c.na(),l.c.push(c))}a=0;for(b=n[4].length;a<b;a++){f=n[4][a];
A=this.i[f[0]];c=1;for(k=f.length;c<k;c++)e=this.i[f[c]],e.T.push(A),A.lk.push(e)}a=0;for(b=n[22].length;a<b;a++){f=n[22][a];A=[];c=0;for(k=f.length;c<k;c++)A.push(this.i[f[c]]);c=0;for(k=A.length;c<k;c++)A[c].Lb=m,A[c].La=A}if(0<this.Be){a=0;for(b=this.i.length;a<b;a++)if(e=this.i[a],!e.J&&e.T.length){e.Of=Array(this.Be);e.Od=Array(this.Be);e.vj=Array(this.Be);l=[];c=h=q=g=0;for(k=e.T.length;c<k;c++){d=e.T[c];e.Of[d.fc]=g;g+=d.Io;e.Od[d.fc]=q;q+=d.Tl;e.vj[d.fc]=h;h+=d.Tm;f=0;for(A=d.A.length;f<A;f++)l.push(pa({},
d.A[f]))}e.A=l.concat(e.A);c=0;for(k=e.A.length;c<k;c++)e.A[c].index=c}}a=0;for(b=n[5].length;a<b;a++)e=n[5][a],c=new Xa(this,e),this.Ih[c.name]=c,this.Ob.push(c);a=0;for(b=n[6].length;a<b;a++)e=n[6][a],c=new Ya(this,e),this.fh[c.name]=c,this.wd.push(c);a=0;for(b=this.wd.length;a<b;a++)this.wd[a].da();a=0;for(b=this.Hg.length;a<b;a++)this.Hg[a].da();this.Hg.length=0;this.Qm=n[7];this.je=n[8];this.Xa=n[9];this.Wa=n[10];this.Bf=1;this.qm=n[12];this.la=n[13];this.mj=n[14];this.rq=n[15];a=n[16];2===a&&
(a=this.eg?1:0);this.Ho=0!==a;this.zn=n[19];this.Zn=n[21];this.qf=Date.now()};d.prototype.Rm=function(a){var b,c;b=0;for(c=this.hd.length;b<c;b++)if(this.hd[b].$l===a)return this.hd[b];return p};d.prototype.dj=function(){var a=0,b=0,c=m,k,f;k=0;for(f=this.hd.length;k<f;k++){var v=this.hd[k].Zl;if(!v||0>=v)v=5E4;a+=v;this.hd[k].complete||this.hd[k].loaded?b+=v:c=t}this.Ed=0==a?0:b/a;return c};d.prototype.go=function(){if(this.P||this.D){var a=this.P||this.bi;this.Ma&&this.Gk();this.Ed=0;this.ak=-1;
if(this.dj())this.xn();else{var b=Date.now()-this.qf,c=1;this.$f&&(c=this.devicePixelRatio);if(a){if(3!==this.Ye&&500<=b&&this.ak!=this.Ed){a.clearRect(0,0,this.width,this.height);var b=this.width/(2*c),c=this.height/(2*c),k=0===this.Ye&&this.Xd.complete,f=40,v=0,e=80;k&&(e=this.Xd.width,f=e/2,v=this.Xd.height/2,a.drawImage(this.Xd,ia(b-f),ia(c-v)));1>=this.Ye?(b=ia(b-f)+0.5,c=ia(c+(v+(k?12:0)))+0.5,a.fillStyle="DodgerBlue",a.fillRect(b,c,Math.floor(e*this.Ed),6),a.strokeStyle="black",a.strokeRect(b,
c,e,6),a.strokeStyle="white",a.strokeRect(b-1,c-1,e+2,8)):2===this.Ye&&(a.font="12pt Arial",a.fillStyle="#999",a.pq="middle",k=Math.round(100*this.Ed)+"%",f=a.measureText?a.measureText(k):p,a.fillText(k,b-(f?f.width:0)/2,c))}this.ak=this.Ed}setTimeout(function(a){return function(){a.go()}}(this),100)}}};d.prototype.xn=function(){this.Ma&&(this.canvas.parentNode.removeChild(this.Ma),this.Ma=this.bi=p);this.qf=Date.now();this.We=V();var a,b,c;if(this.Ki){a=0;for(b=this.i.length;a<b;a++)c=this.i[a],
!c.J&&(!c.Bh&&c.wa.Rc)&&c.na()}else this.fg=t;a=0;for(b=this.Ob.length;a<b;a++)this.Ob[a].am();2<=this.pb&&(a=this.Xa/this.Wa,b=this.width/this.height,this.Bf=2!==this.pb&&b>a||2===this.pb&&b<a?this.height/this.Wa:this.width/this.Xa);this.zj?this.Ih[this.zj].Bi():this.Ob[0].Bi();this.Ki||(this.Yd=1,this.trigger(Z.prototype.j.Pi,p));this.Na();this.sb&&AppMobi.webview.execute("onGameReady();")};var b=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||
window.msRequestAnimationFrame||window.oRequestAnimationFrame;d.prototype.Na=function(){if(this.O){if(this.Dn){var a=jQuery(window).width(),c=jQuery(window).height();if(this.ck!==a||this.bk!==c)this.ck=a,this.bk=c,this.setSize(a,c)}a=V();this.fg&&(c=this.dj(),this.Yd=this.Ed,c&&(this.fg=t,this.Ed=1,this.trigger(Z.prototype.j.Pi,p)));this.On();if((this.V||this.ic)&&!this.Dh&&!this.rf)this.V=t,this.D?this.cc():this.td(),this.Cg&&(this.canvas&&this.canvas.toDataURL&&(this.wo=this.canvas.toDataURL(this.Cg[0],
this.Cg[1]),this.trigger(Z.prototype.j.wl,p)),this.Cg=p);this.uf++;this.Nf++;this.Qf++;this.qg+=V()-a;this.Re||(b?this.ji=b(this.fl,this.canvas):this.Fi=setTimeout(this.fl,this.Sd?1:16))}};d.prototype.On=function(){var a,b,c,k,f,v,e,g,d;a=V();1E3<=a-this.We&&(this.We+=1E3,this.jh=this.Qf,this.Qf=0,this.Wg=this.qg,this.qg=0);this.jk&&(0!==this.ig&&(b=a-this.ig,0===b?(this.Jo++,10<=this.sq&&(this.jk=t),this.Mc=1/60):(this.Mc=b/1E3,0.5<this.Mc?this.Mc=0:0.1<this.Mc&&(this.Mc=0.1))),this.ig=a);this.ud=
this.Mc*this.Hd;this.Mb.add(this.ud);a=document.mozFullScreen||document.webkitIsFullScreen||document.fullScreen||this.Zf;2<=this.pb||a&&0<this.Ee?(b=this.Xa/this.Wa,c=this.width/this.height,k=this.pb,a&&0<this.Ee&&(k=this.Ee),this.Bf=2!==k&&c>b||2===k&&c<b?this.height/this.Wa:this.width/this.Xa,this.O&&(this.O.Sk(this.O.scrollX),this.O.Tk(this.O.scrollY))):this.Bf=1;this.Ba();this.wc++;this.mc.mo();this.wc--;this.Ba();this.wc++;a=0;for(b=this.i.length;a<b;a++)if(e=this.i[a],!(e.J||!e.fa.length&&!e.T.length)){c=
0;for(k=e.c.length;c<k;c++){g=e.c[c];f=0;for(v=g.H.length;f<v;f++)g.H[f].Na()}}a=0;for(b=this.i.length;a<b;a++)if(e=this.i[a],!(e.J||!e.fa.length&&!e.T.length)){c=0;for(k=e.c.length;c<k;c++){g=e.c[c];f=0;for(v=g.H.length;f<v;f++)d=g.H[f],d.co&&d.co()}}c=this.Vh.vf();a=0;for(b=c.length;a<b;a++)c[a].Na();this.wc--;this.yn();for(a=0;this.Ug&&10>a++;)this.sj(this.Ug);a=0;for(b=this.wd.length;a<b;a++)this.wd[a].uh=t;this.O.Kf&&this.O.Kf.qa();this.jo.length=0;this.ek=t;this.wc++;a=0;for(b=this.i.length;a<
b;a++)if(e=this.i[a],!(e.J||!e.fa.length&&!e.T.length)){c=0;for(k=e.c.length;c<k;c++){g=e.c[c];f=0;for(v=g.H.length;f<v;f++)d=g.H[f],d.Ei&&d.Ei()}}c=this.Wh.vf();a=0;for(b=c.length;a<b;a++)c[a].Ei();this.wc--};d.prototype.sj=function(a){var c=this.O;this.O.yo();var b,k,f,e,g,d,l;if(this.D){b=0;for(k=this.i.length;b<k;b++)g=this.i[b],g.J||g.nl&&((!g.global||0===g.c.length)&&-1===a.Me.indexOf(g))&&g.nl()}c==a&&(this.mc.bb.length=0);a.Bi();b=0;for(k=this.i.length;b<k;b++)if(g=this.i[b],g.global||g.wa.Ai){a=
0;for(c=g.c.length;a<c;a++)if(d=g.c[a],d.Zh&&d.Zh(),d.H){f=0;for(e=d.H.length;f<e;f++)l=d.H[f],l.Zh&&l.Zh()}}this.ek=this.V=m;this.Ba()};d.prototype.gl=function(a){this.Vh.add(a)};d.prototype.Bo=function(a){this.Wh.add(a)};d.prototype.Zm=function(a){return!a||-1===a.Dd?this.ud:this.Mc*a.Dd};d.prototype.td=function(){this.O.td(this.P);this.sb&&this.P.present()};d.prototype.cc=function(){this.O.cc(this.D)};d.prototype.Pl=function(a){a&&this.bh.push(a)};d.prototype.Uf=function(a){return this.fe[a.toString()]};
d.prototype.kd=function(a){var b,c;if(!this.$b.contains(a)){this.$b.add(a);if(a.Lb){b=0;for(c=a.siblings.length;b<c;b++)this.kd(a.siblings[b])}this.Ah&&this.$b.wf.push(a);this.wc++;this.trigger(Object.getPrototypeOf(a.type.wa).j.yl,a);this.wc--}};d.prototype.Ba=function(){var a,b,c,k,f,e,g,d,l,q;this.Ah=m;k=0;for(e=this.Zb.length;k<e;k++){a=this.Zb[k];b=a.type;b.c.push(a);b.cd=m;f=0;for(g=b.T.length;f<g;f++)b.T[f].c.push(a),b.T[f].cd=m}this.Zb.length=0;e=this.$b.vf();for(k=0;k<e.length;k++){a=e[k];
b=a.type;c=b.c;f=0;for(g=this.bh.length;f<g;f++)this.bh[f](a);sa(c,a);a.d&&(qa(a.d.c,a.hb()),a.d.cb=m);f=0;for(g=b.T.length;f<g;f++)sa(b.T[f].c,a),b.T[f].cd=m;if(a.H){f=0;for(g=a.H.length;f<g;f++)c=a.H[f],c.Yh&&c.Yh(),c.Md.Th.remove(a)}this.Vh.remove(a);this.Wh.remove(a);f=0;for(g=this.mc.bb.length;f<g;f++)if(l=this.mc.bb[f],l.Za.hasOwnProperty(b.index)&&sa(l.Za[b.index].Ad,a),!b.J){c=0;for(d=b.T.length;c<d;c++)q=b.T[c],l.Za.hasOwnProperty(q.index)&&sa(l.Za[q.index].Ad,a)}a.Yh&&a.Yh();this.fe.hasOwnProperty(a.uid.toString())&&
delete this.fe[a.uid.toString()];this.rg--;64>b.If.length&&b.If.push(a);b.cd=m}this.$b.Oe()||(this.V=m);this.$b.clear();this.Ah=t};var f=[];d.prototype.rd=function(a,b,c,k,e,v){var g,d,l,q;if(!a)return p;var h=this.i[a[1]],L=h.wa.Rc;if(this.fg&&L&&!h.Bh||L&&!this.D&&11===a[0][11])return p;var H=b;L||(b=p);var u;h.If.length?(u=h.If.pop(),u.Bc=m,h.wa.Oa.call(u,h)):(u=new h.wa.Oa(h),u.Bc=t);u.uid=c&&!v?a[2]:this.bf++;this.fe[u.uid.toString()]=u;u.Lk=this.nk++;u.Ke=0;u.He=Nb;h.cd=m;l=a[3];if(u.Bc){g=
0;for(d=l.length;g<d;g++)u.ta[g]=l[g];Ma(u.ba)}else u.ta=l.slice(0),u.ba={};if(L){var z=a[0];u.x=aa(k)?z[0]:k;u.y=aa(e)?z[1]:e;u.rl=z[2];u.width=z[3];u.height=z[4];u.depth=z[5];u.g=z[6];u.opacity=z[7];u.Sa=z[8];u.Ta=z[9];u.Ja=z[10];g=z[11];!this.D&&h.A.length&&(u.Ja=g);u.xe=Ra(u.Ja);this.m&&Sa(u,u.Ja,this.m);if(u.Bc){g=0;for(d=z[12].length;g<d;g++){l=0;for(q=z[12][g].length;l<q;l++)u.$[g][l]=z[12][g][l]}u.N.set(0,0,0,0);u.pd.wi(u.N);u.Cf.length=0}else{u.$=z[12].slice(0);g=0;for(d=u.$.length;g<d;g++)u.$[g]=
z[12][g].slice(0);u.M=[];u.Hc=[];u.Hc.length=h.A.length;u.N=new ka(0,0,0,0);u.pd=new la;u.Cf=[];u.Ea=Pb;u.Vp=Qb;u.Kc=Rb;u.nc=Sb;u.hb=Tb}g=0;for(d=h.A.length;g<d;g++)u.Hc[g]=m;u.Fc=Ub;u.Fc();u.ql=!!u.M.length;u.Qg=m;u.visible=m;u.Dd=-1;u.d=b;u.Jd=b.c.length;"undefined"===typeof u.Yb&&(u.Yb=p);this.V=u.Ef=m}u.toString=Ob;var E;g=f.length=0;for(d=h.T.length;g<d;g++)f.push.apply(f,h.T[g].fa);f.push.apply(f,h.fa);if(u.Bc){g=0;for(d=f.length;g<d;g++){var I=f[g];E=u.H[g];E.Bc=m;I.Md.Oa.call(E,I,u);z=a[4][g];
l=0;for(q=z.length;l<q;l++)E.za[l]=z[l];E.na();I.Md.Th.add(u)}}else{u.H=[];g=0;for(d=f.length;g<d;g++)I=f[g],E=new I.Md.Oa(I,u),E.Bc=t,E.za=a[4][g].slice(0),E.na(),u.H.push(E),I.Md.Th.add(u)}z=a[5];if(u.Bc){g=0;for(d=z.length;g<d;g++)u.za[g]=z[g]}else u.za=z.slice(0);this.Zb.push(u);b&&b.c.push(u);this.rg++;if(h.Lb){if(u.Lb=m,u.Bc?u.siblings.length=0:u.siblings=[],!c&&!v){g=0;for(d=h.La.length;g<d;g++)if(h.La[g]!==h){if(!h.La[g].ac)return p;u.siblings.push(this.rd(h.La[g].ac,H,t,L?u.x:k,L?u.y:e,m))}g=
0;for(d=u.siblings.length;g<d;g++){u.siblings[g].siblings.push(u);for(l=0;l<d;l++)g!==l&&u.siblings[g].siblings.push(u.siblings[l])}}}else u.Lb=t,u.siblings=p;u.na();g=0;for(d=u.H.length;g<d;g++)u.H[g].bo&&u.H[g].bo();return u};d.prototype.qh=function(a){var b,c;b=0;for(c=this.O.K.length;b<c;b++){var f=this.O.K[b];if(f.name.toLowerCase()===a.toLowerCase())return f}return p};d.prototype.Fe=function(a){a=ia(a);0>a&&(a=0);a>=this.O.K.length&&(a=this.O.K.length-1);return this.O.K[a]};d.prototype.Vg=function(a){var b,
c;b=0;for(c=a.length;b<c;b++)a[b].X().aa=m};d.prototype.jf=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].jf()};d.prototype.hi=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].hi()};d.prototype.ke=function(a){var b,c;b=0;for(c=a.length;b<c;b++)a[b].ke()};d.prototype.zo=function(a,b,c){var f=a.X(),k,e,g,d,l,h;if(f.aa){f.aa=t;k=f.c.length=0;for(d=a.c.length;k<d;k++)g=a.c[k],g.nc(),l=g.d.Qa(b,c,m),h=g.d.Qa(b,c,t),g.Kc(l,h)&&f.c.push(g)}else{k=e=0;for(d=f.c.length;k<d;k++)g=f.c[k],g.nc(),l=g.d.Qa(b,
c,m),h=g.d.Qa(b,c,t),g.Kc(l,h)&&(f.c[e]=f.c[k],e++);f.c.length=e}a.te();return f.th()};new la;new ka(0,0,0,0);d.prototype.kl=function(a,b){if(!b)return t;var c,f,k,e,g;c=0;for(f=a.fa.length;c<f;c++)if(a.fa[c].Md instanceof b)return m;if(!a.J){c=0;for(f=a.T.length;c<f;c++){g=a.T[c];k=0;for(e=g.fa.length;k<e;k++)if(g.fa[k].Md instanceof b)return m}}return t};d.prototype.ll=function(a){return this.kl(a,nb.pp)};d.prototype.Ji=function(a){return this.kl(a,nb.qp)};var c=[],k=-1;d.prototype.trigger=function(a,
b,f){if(!this.O)return t;var e=this.O.Kf;if(!e)return t;k++;k===c.length?c.push(new Na):c[k].clear();a=this.il(a,b,e,f);k--;return a};d.prototype.il=function(a,b,f,e){var g=c[k];if(g.contains(f))return t;g.add(f);var g=f.Mj.vf(),v=t,d,l,h;d=0;for(l=g.length;d<l;d++)g[d].Cn()&&(h=this.il(a,b,g[d].Le,e),v=v||h);if(b){h=this.Hi(a,b,b.type.name,f,e);v=v||h;d=0;for(l=b.type.T.length;d<l;d++)h=this.Hi(a,b,b.type.T[d].name,f,e),v=v||h}else h=this.Hi(a,b,"system",f,e),v=v||h;return v};d.prototype.Hi=function(a,
b,c,f,k){var e,g=t,d=t,d="undefined"!==typeof k,l=(d?f.xj:f.jl)[c];if(!l)return g;var h=p;f=0;for(e=l.length;f<e;f++)if(l[f].method==a){h=l[f].Mf;break}if(!h)return g;a=d?h[k]:h;if(!a)return p;f=0;for(e=a.length;f<e;f++)k=a[f][0],d=a[f][1],d=this.Om(b,c,k,d),g=g||d;return g};d.prototype.Om=function(a,b,c,f){var e,g,d=t;this.Ii++;var l=this.fb().Kb;l&&this.jf(l.Zc);var h=1<this.Ii;this.jf(c.Zc);h&&this.ho();var q=this.ii(c);q.Kb=c;a&&(e=this.types[b].X(),e.aa=t,e.c.length=1,e.c[0]=a,this.types[b].te());
a=m;if(c.parent){b=q.bl;for(e=c.parent;e;)b.push(e),e=e.parent;b.reverse();e=0;for(g=b.length;e<g;e++)if(!b[e].oo()){a=t;break}}a&&(this.Nf++,c.jc?c.no(f):c.qa(),d=d||q.Wd);this.Fk();h&&this.ao();this.ke(c.Zc);l&&this.ke(l.Zc);0===this.wc&&(0===k&&!this.Ch&&(!this.$b.Oe()||this.Zb.length))&&this.Ba();this.Ii--;return d};d.prototype.Ym=function(){var a=this.fb();return a.Kb.ga[a.Ka]};d.prototype.ho=function(){this.pg++;this.pg>=this.Oh.length&&this.Oh.push([])};d.prototype.ao=function(){this.pg--};
d.prototype.Cj=function(){return this.Oh[this.pg]};d.prototype.ii=function(a){this.Lf++;this.Lf>=this.eh.length&&this.eh.push(new Za);var b=this.fb();b.reset(a);return b};d.prototype.Fk=function(){this.Lf--};d.prototype.fb=function(){return this.eh[this.Lf]};d.prototype.Dj=function(a,b){for(var c,f,k,e,g,d;b;){c=0;for(f=b.yb.length;c<f;c++)if(d=b.yb[c],d instanceof $a&&a.toLowerCase()===d.name.toLowerCase())return d;b=b.parent}c=0;for(f=this.wd.length;c<f;c++){g=this.wd[c];k=0;for(e=g.Nc.length;k<
e;k++)if(d=g.Nc[k],d instanceof $a&&a.toLowerCase()===d.name.toLowerCase())return d}return p};d.prototype.Ej=function(a){var b,c;b=0;for(c=this.Ob.length;b<c;b++)if(this.Ob[b].G===a)return this.Ob[b];return p};d.prototype.Vf=function(a){var b,c;b=0;for(c=this.i.length;b<c;b++)if(this.i[b].G===a)return this.i[b];return p};d.prototype.an=function(a){var b,c;b=0;for(c=this.Ld.length;b<c;b++)if(this.Ld[b].G===a)return this.Ld[b];return p};d.prototype.yn=function(){var a=this,b=this.si,c=this.yc,f=this.lg,
k=t;this.$k&&(k=m,b="__c2_continuouspreview",this.$k=t);if(b.length){this.Ba();c=this.so();if(window.indexedDB&&!this.ic)l(b,c,function(){R("Saved state to IndexedDB storage ("+c.length+" bytes)");a.yc=c;a.trigger(Z.prototype.j.Ng,p);a.yc="";k&&e()},function(f){try{localStorage.setItem("__c2save_"+b,c),R("Saved state to WebStorage ("+c.length+" bytes)"),a.yc=c,a.trigger(Z.prototype.j.Ng,p),a.yc="",k&&e()}catch(g){R("Failed to save game state: "+f+"; "+g)}});else try{localStorage.setItem("__c2save_"+
b,c),R("Saved state to WebStorage ("+c.length+" bytes)"),a.yc=c,this.trigger(Z.prototype.j.Ng,p),a.yc="",k&&e()}catch(g){R("Error saving to WebStorage: "+g)}this.Ha=this.lg=this.si=""}f.length&&(window.indexedDB&&!this.ic?q(f,function(b){b?(a.Ha=b,R("Loaded state from IndexedDB storage ("+a.Ha.length+" bytes)")):(a.Ha=localStorage.getItem("__c2save_"+f)||"",R("Loaded state from WebStorage ("+a.Ha.length+" bytes)"));a.rf=t;a.Ha.length||a.trigger(Z.prototype.j.Mg,p)},function(){a.Ha=localStorage.getItem("__c2save_"+
f)||"";R("Loaded state from WebStorage ("+a.Ha.length+" bytes)");a.rf=t;a.Ha.length||a.trigger(Z.prototype.j.Mg,p)}):(this.Ha=localStorage.getItem("__c2save_"+f)||"",R("Loaded state from WebStorage ("+this.Ha.length+" bytes)"),this.rf=t,a.Ha.length||a.trigger(Z.prototype.j.Mg,p)),this.si=this.lg="");this.Ha.length&&(this.Ba(),this.Mn(this.Ha),this.yc=this.Ha,this.trigger(Z.prototype.j.Bl,p),this.Ha=this.yc="")};d.prototype.so=function(){var a,b,c,f,k,e,d,l={c2save:m,version:1,rt:{time:this.Mb.jb,
timescale:this.Hd,tickcount:this.uf,execcount:this.Nf,next_uid:this.bf,running_layout:this.O.G,start_time_offset:Date.now()-this.qf},types:{},layouts:{},events:{groups:{},cnds:{},acts:{},vars:{}}};a=0;for(b=this.i.length;a<b;a++)if(k=this.i[a],!k.J&&!this.ll(k)){e={instances:[]};La(k.ba)&&(e.ex=g(k.ba));c=0;for(f=k.c.length;c<f;c++)e.instances.push(this.Rk(k.c[c]));l.types[k.G.toString()]=e}a=0;for(b=this.Ob.length;a<b;a++)c=this.Ob[a],l.layouts[c.G.toString()]=c.Sb();f=l.events.groups;a=0;for(b=
this.Ld.length;a<b;a++)c=this.Ld[a],f[c.G.toString()]=!!this.zf[c.Ie];b=l.events.cnds;for(d in this.Nd)this.Nd.hasOwnProperty(d)&&(a=this.Nd[d],La(a.ba)&&(b[d]={ex:g(a.ba)}));b=l.events.acts;for(d in this.Kd)this.Kd.hasOwnProperty(d)&&(a=this.Kd[d],La(a.ba)&&(b[d]={ex:a.ba}));b=l.events.vars;for(d in this.pe)if(this.pe.hasOwnProperty(d)&&(a=this.pe[d],!a.ag&&(!a.parent||a.Te)))b[d]=a.data;l.system=this.mc.Sb();return JSON.stringify(l)};d.prototype.Mk=function(){var a,b,c,f,k,e;this.fe={};a=0;for(b=
this.i.length;a<b;a++)if(c=this.i[a],!c.J){f=0;for(k=c.c.length;f<k;f++)e=c.c[f],this.fe[e.uid.toString()]=e}};d.prototype.Mn=function(a){a=JSON.parse(a);if(a.c2save&&!(1<a.version)){var b=a.rt;this.Mb.reset();this.Mb.jb=b.time;this.Hd=b.timescale;this.uf=b.tickcount;this.Nf=b.execcount;this.qf=Date.now()-b.start_time_offset;var c=b.running_layout;if(c!==this.O.G)if(c=this.Ej(c))this.sj(c);else return;this.Sj=m;var f,k,e,g,d,l,h;l=a.types;for(k in l)if(l.hasOwnProperty(k)&&(g=this.Vf(parseInt(k,10)))&&
!g.J&&!this.ll(g)){l[k].ex?g.ba=l[k].ex:Ma(g.ba);d=g.c;e=l[k].instances;c=0;for(f=ga(d.length,e.length);c<f;c++)this.Jh(d[c],e[c]);c=e.length;for(f=d.length;c<f;c++)this.kd(d[c]);c=d.length;for(f=e.length;c<f;c++){d=p;if(g.wa.Rc&&(d=this.O.Sf(e[c].w.l),!d))continue;d=this.rd(g.ac,d,t,0,0,m);this.Jh(d,e[c])}g.cd=m}this.Ba();this.Mk();f=a.layouts;for(k in f)f.hasOwnProperty(k)&&(c=this.Ej(parseInt(k,10)))&&c.zc(f[k]);f=a.events.groups;for(k in f)f.hasOwnProperty(k)&&(c=this.an(parseInt(k,10)))&&(this.zf[c.Ie]=
f[k]);c=a.events.cnds;for(k in c)c.hasOwnProperty(k)&&this.Nd.hasOwnProperty(k)&&(this.Nd[k].ba=c[k].ex);c=a.events.acts;for(k in c)c.hasOwnProperty(k)&&this.Kd.hasOwnProperty(k)&&(this.Kd[k].ba=c[k].ex);c=a.events.vars;for(k in c)c.hasOwnProperty(k)&&this.pe.hasOwnProperty(k)&&(this.pe[k].data=c[k]);this.bf=b.next_uid;this.Sj=t;this.mc.zc(a.system);c=0;for(f=this.i.length;c<f;c++)if(g=this.i[c],!g.J){k=0;for(a=g.c.length;k<a;k++){d=g.c[k];if(g.Lb){l=d.He();b=d.siblings.length=0;for(e=g.La.length;b<
e;b++)h=g.La[b],g!==h&&d.siblings.push(h.c[l])}d.Af&&d.Af();if(d.H){b=0;for(e=d.H.length;b<e;b++)l=d.H[b],l.Af&&l.Af()}}}this.V=m}};d.prototype.Rk=function(a){var b,c,f,k,e;k=a.type;f=k.wa;var d={uid:a.uid};La(a.ba)&&(d.ex=g(a.ba));if(a.ta&&a.ta.length){d.ivs={};b=0;for(c=a.ta.length;b<c;b++)d.ivs[a.type.zh[b].toString()]=a.ta[b]}if(f.Rc){f={x:a.x,y:a.y,w:a.width,h:a.height,l:a.d.G,zi:a.hb()};0!==a.g&&(f.a=a.g);1!==a.opacity&&(f.o=a.opacity);0.5!==a.Sa&&(f.hX=a.Sa);0.5!==a.Ta&&(f.hY=a.Ta);0!==a.Ja&&
(f.bm=a.Ja);a.visible||(f.v=a.visible);a.Ef||(f.ce=a.Ef);-1!==a.Dd&&(f.mts=a.Dd);if(k.A.length){f.fx=[];b=0;for(c=k.A.length;b<c;b++)e=k.A[b],f.fx.push({name:e.name,active:a.Hc[e.index],params:a.$[e.index]})}d.w=f}if(a.H&&a.H.length){d.behs={};b=0;for(c=a.H.length;b<c;b++)k=a.H[b],k.Sb&&(d.behs[k.type.G.toString()]=k.Sb())}a.Sb&&(d.data=a.Sb());return d};d.prototype.cn=function(a,b){var c,f;c=0;for(f=a.zh.length;c<f;c++)if(a.zh[c]===b)return c;return-1};d.prototype.Xm=function(a,b){var c,f;c=0;for(f=
a.H.length;c<f;c++)if(a.H[c].type.G===b)return c;return-1};d.prototype.Jh=function(a,b){var c,f,k,e,g,d;d=a.type;k=d.wa;a.uid=b.uid;b.ex?a.ba=b.ex:Ma(a.ba);if(f=b.ivs)for(c in f)f.hasOwnProperty(c)&&(e=this.cn(d,parseInt(c,10)),0>e||e>=a.ta.length||(a.ta[e]=f[c]));if(k.Rc){e=b.w;a.d.G!==e.l&&(f=a.d,a.d=this.O.Sf(e.l),a.d?(a.d.c.push(a),a.d.cb=m,sa(f.c,a),f.cb=m):(a.d=f,this.kd(a)));a.x=e.x;a.y=e.y;a.width=e.w;a.height=e.h;a.Jd=e.zi;a.g=e.hasOwnProperty("a")?e.a:0;a.opacity=e.hasOwnProperty("o")?e.o:
1;a.Sa=e.hasOwnProperty("hX")?e.hX:0.5;a.Ta=e.hasOwnProperty("hY")?e.hY:0.5;a.visible=e.hasOwnProperty("v")?e.v:m;a.Ef=e.hasOwnProperty("ce")?e.ce:m;a.Dd=e.hasOwnProperty("mts")?e.mts:-1;a.Ja=e.hasOwnProperty("bm")?e.bm:0;a.xe=Ra(a.Ja);this.m&&Sa(a,a.Ja,this.m);a.Ea();if(e.hasOwnProperty("fx")){f=0;for(k=e.fx.length;f<k;f++)g=d.oh(e.fx[f].name),0>g||(a.Hc[g]=e.fx[f].active,a.$[g]=e.fx[f].params)}a.Fc()}if(d=b.behs)for(c in d)d.hasOwnProperty(c)&&(e=this.Xm(a,parseInt(c,10)),0>e||a.H[e].zc(d[c]));
b.data&&a.zc(b.data)};ab=function(a){return new d(document.getElementById(a))};bb=function(a,b){return new d({dc:m,width:a,height:b})};window.cr_createRuntime=ab;window.cr_createDCRuntime=bb;window.createCocoonJSRuntime=function(){window.c2cocoonjs=m;var a=document.createElement("screencanvas")||document.createElement("canvas");document.body.appendChild(a);a=new d(a);window.c2runtime=a;window.addEventListener("orientationchange",function(){window.c2runtime.setSize(window.innerWidth,window.innerHeight)});
window.c2runtime.setSize(window.innerWidth,window.innerHeight);return a}})();window.cr_getC2Runtime=function(){var d=document.getElementById("c2canvas");return d?d.c2runtime:window.c2runtime?window.c2runtime:p};window.cr_sizeCanvas=function(d,h){if(!(0===d||0===h)){var l=window.cr_getC2Runtime();l&&l.setSize(d,h)}};window.cr_setSuspended=function(d){var h=window.cr_getC2Runtime();h&&h.setSuspended(d)};
(function(){function d(e,g){this.b=e;this.Kf=p;this.scrollX=this.b.Xa/2;this.scrollY=this.b.Wa/2;this.scale=1;this.g=0;this.De=m;this.name=g[0];this.width=g[1];this.height=g[2];this.ml=g[3];this.Yk=g[4];this.G=g[5];var a=g[6],b,f;this.K=[];this.Me=[];b=0;for(f=a.length;b<f;b++){var c=new gb(this,a[b]);c.pk=b;this.K.push(c)}a=g[7];this.zd=[];b=0;for(f=a.length;b<f;b++){var c=a[b],k=this.b.i[c[1]];k.ac||(k.ac=c);this.zd.push(c);-1===this.Me.indexOf(k)&&this.Me.push(k)}this.A=[];this.M=[];this.$=[];
b=0;for(f=g[8].length;b<f;b++)this.A.push({id:g[8][b][0],name:g[8][b][1],Aa:-1,pc:m,index:b}),this.$.push(g[8][b][2].slice(0));this.Fc();this.ki=new ka(0,0,1,1);this.li=new ka(0,0,1,1);this.Vc={}}function h(e,g){this.R=e;this.b=e.b;this.c=[];this.scale=1;this.g=0;this.sd=t;this.Ec=new ka(0,0,0,0);this.hl=new la;this.zb=this.Cb=this.Bb=this.Ab=0;this.cb=t;this.name=g[0];this.index=g[1];this.G=g[2];this.visible=g[3];this.Ic=g[4];this.Id=g[5];this.Tc=g[6];this.Uc=g[7];this.opacity=g[8];this.ih=g[9];
this.Gc=g[10];this.Ja=g[11];this.pm=g[12];this.xe="source-over";this.Ca=this.Fa=0;this.Wc=t;var a=g[13],b,f;this.Qd=[];b=0;for(f=a.length;b<f;b++){var c=a[b],k=this.b.i[c[1]];k.ac||(k.ac=c);this.Qd.push(c);-1===this.R.Me.indexOf(k)&&this.R.Me.push(k)}this.A=[];this.M=[];this.$=[];b=0;for(f=g[14].length;b<f;b++)this.A.push({id:g[14][b][0],name:g[14][b][1],Aa:-1,pc:m,index:b}),this.$.push(g[14][b][2].slice(0));this.Fc();this.ki=new ka(0,0,1,1);this.li=new ka(0,0,1,1)}function l(e,g){return e.Jd-g.Jd}
d.prototype.ro=function(e){var g=e.type.G.toString();this.Vc.hasOwnProperty(g)||(this.Vc[g]=[]);this.Vc[g].push(this.b.Rk(e))};d.prototype.Jj=function(){var e=this.K[0];return!e.Id&&1===e.opacity&&!e.ih&&e.visible};d.prototype.Fc=function(){this.M.length=0;var e,g,a;e=0;for(g=this.A.length;e<g;e++)a=this.A[e],a.pc&&this.M.push(a)};d.prototype.nh=function(e){var g,a,b;g=0;for(a=this.A.length;g<a;g++)if(b=this.A[g],b.name===e)return b;return p};var q=[];d.prototype.Bi=function(){this.Yk&&(this.Kf=this.b.fh[this.Yk]);
this.b.O=this;this.scrollX=this.b.Xa/2;this.scrollY=this.b.Wa/2;var e,g,a,b,f,c,k;e=0;for(a=this.b.i.length;e<a;e++)if(g=this.b.i[e],!g.J){f=g.c;g=0;for(b=f.length;g<b;g++)if(c=f[g],c.d){var d=c.d.pk;d>=this.K.length&&(d=this.K.length-1);c.d=this.K[d];c.d.c.push(c);c.d.cb=m}}q.length=0;this.Ul();e=0;for(a=this.K.length;e<a;e++)c=this.K[e],c.cm(),c.sd=m,g=c.Qa(0,0,m),b=c.Qa(0,0,t),c.sd=t,this.b.je&&(g=g+0.5|0,b=b+0.5|0),c.oi(g,b,p);f=t;if(!this.De){for(k in this.Vc)if(this.Vc.hasOwnProperty(k)&&(g=
this.b.Vf(parseInt(k,10)))&&!g.J&&this.b.Ji(g)){b=this.Vc[k];e=0;for(a=b.length;e<a;e++){c=p;if(g.wa.Rc&&(c=this.Sf(b[e].w.l),!c))continue;c=this.b.rd(g.ac,c,t,0,0,m);this.b.Jh(c,b[e]);f=m;q.push(c)}b.length=0}e=0;for(a=this.K.length;e<a;e++)this.K[e].c.sort(l),this.K[e].cb=m}f&&(this.b.Ba(),this.b.Mk());for(e=0;e<q.length;e++)if(c=q[e],c.type.Lb){a=c.He();g=0;for(b=c.type.La.length;g<b;g++)k=c.type.La[g],c.type!==k&&(k.c.length>a?c.siblings.push(k.c[a]):k.ac&&(f=this.b.rd(k.ac,c.d,m,c.x,c.y,m),this.b.Ba(),
k.Ig(),c.siblings.push(f),q.push(f)))}e=0;for(a=this.zd.length;e<a;e++)this.b.rd(this.zd[e],p,m);this.b.Ug=p;this.b.Ba();if(this.b.P&&!this.b.Ua){e=0;for(a=this.b.i.length;e<a;e++)k=this.b.i[e],!k.J&&(k.c.length&&k.Hk)&&k.Hk(this.b.P)}e=0;for(a=q.length;e<a;e++)c=q[e],this.b.trigger(Object.getPrototypeOf(c.type.wa).j.xl,c);q.length=0;this.b.trigger(Z.prototype.j.Al,p);this.De=t};d.prototype.am=function(){var e,g,a,b,f;g=e=0;for(a=this.zd.length;e<a;e++)b=this.zd[e],f=this.b.i[b[1]],f.global?this.b.rd(b,
p,m):(this.zd[g]=b,g++);this.zd.length=g};d.prototype.yo=function(){this.b.trigger(Z.prototype.j.zl,p);this.b.mc.bb.length=0;var e,g,a,b,f,c;e=0;for(g=this.K.length;e<g;e++){f=this.K[e].c;a=0;for(b=f.length;a<b;a++)c=f[a],c.type.global||(this.b.Ji(c.type)&&this.ro(c),this.b.kd(c));this.b.Ba();f.length=0;this.K[e].cb=m}e=0;for(g=this.b.i.length;e<g;e++)if(f=this.b.i[e],!f.global&&!f.wa.Rc&&!f.wa.Ai&&!f.J){a=0;for(b=f.c.length;a<b;a++)this.b.kd(f.c[a]);this.b.Ba()}};d.prototype.td=function(e){e.globalAlpha=
1;e.globalCompositeOperation="source-over";this.b.mj&&!this.Jj()&&e.clearRect(0,0,this.b.width,this.b.height);var g,a,b;g=0;for(a=this.K.length;g<a;g++)b=this.K[g],b.visible&&(0<b.opacity&&11!==b.Ja)&&b.td(e)};d.prototype.cc=function(e){var g=0<this.M.length||this.b.oe;if(g){this.b.Nb||(this.b.Nb=e.Lc(this.b.width,this.b.height,this.b.la));if(this.b.Nb.ve!==this.b.width||this.b.Nb.ue!==this.b.height)e.deleteTexture(this.b.Nb),this.b.Nb=e.Lc(this.b.width,this.b.height,this.b.la);e.Dc(this.b.Nb)}this.b.mj&&
!this.Jj()&&e.clear(0,0,0,0);var a,b;a=0;for(b=this.K.length;a<b;a++)this.K[a].visible&&0<this.K[a].opacity&&this.K[a].cc(e);g&&(1>=this.M.length?(1===this.M.length?(g=this.M[0].index,e.lc(this.M[0].Aa),e.le(p,1/this.b.width,1/this.b.height,0,0,1,1,this.scale,this.$[g]),e.xg(this.M[0].Aa)&&(this.b.V=m)):e.lc(0),e.Dc(p),e.nf(1),e.Tb(this.b.Nb),e.Uk(),e.Xc(),e.gd(),g=this.b.width/2,a=this.b.height/2,e.yg(-g,a,g,a,g,-a,-g,-a),e.Tb(p)):this.mi(e,p,p,p));e.eo()};d.prototype.Ge=function(){return 0<this.M.length||
this.b.oe?this.b.Nb:p};d.prototype.Fj=function(){var e=this.K[0].qb(),g,a,b;g=1;for(a=this.K.length;g<a;g++)b=this.K[g],0===b.Tc&&0===b.Uc||b.qb()<e&&(e=b.qb());return e};d.prototype.Sk=function(e){if(!this.ml){var g=this.b.width*(1/this.Fj())/2;e>this.width-g&&(e=this.width-g);e<g&&(e=g)}this.scrollX!==e&&(this.scrollX=e,this.b.V=m)};d.prototype.Tk=function(e){if(!this.ml){var g=this.b.height*(1/this.Fj())/2;e>this.height-g&&(e=this.height-g);e<g&&(e=g)}this.scrollY!==e&&(this.scrollY=e,this.b.V=
m)};d.prototype.Ul=function(){this.Sk(this.scrollX);this.Tk(this.scrollY)};d.prototype.mi=function(e,g,a,b){var f=a?a.M:g?g.M:this.M,c=a?a.d.qb():g?g.qb():1,k=this.b.kh,d,l,w,h,s=0,v=1,A,q=this.b.width,K=this.b.height,D=q/2,T=K/2,L=g?g.ki:this.ki,H=g?g.li:this.li,u=0,z=0,E=0,I=0,F=q,C=q,G=K,W=K,J=w=0,B=a?a.d.eb():0;if(a){d=0;for(l=f.length;d<l;d++)w+=e.gn(f[d].Aa),J+=e.hn(f[d].Aa);h=a.N;u=g.tb(h.left,h.top,m);E=g.tb(h.left,h.top,t);F=g.tb(h.right,h.bottom,m);G=g.tb(h.right,h.bottom,t);0!==B&&(d=g.tb(h.right,
h.top,m),l=g.tb(h.right,h.top,t),z=g.tb(h.left,h.bottom,m),I=g.tb(h.left,h.bottom,t),h=Math.min(u,F,d,z),F=Math.max(u,F,d,z),u=h,h=Math.min(E,G,l,I),G=Math.max(E,G,l,I),E=h);u-=w;E-=J;F+=w;G+=J;H.left=u/q;H.top=1-E/K;H.right=F/q;H.bottom=1-G/K;z=u=Math.floor(u);I=E=Math.floor(E);C=F=Math.ceil(F);W=G=Math.ceil(G);z-=w;I-=J;C+=w;W+=J;0>u&&(u=0);0>E&&(E=0);F>q&&(F=q);G>K&&(G=K);0>z&&(z=0);0>I&&(I=0);C>q&&(C=q);W>K&&(W=K);L.left=u/q;L.top=1-E/K;L.right=F/q;L.bottom=1-G/K}else L.left=H.left=0,L.top=H.top=
0,L.right=H.right=1,L.bottom=H.bottom=1;J=a&&((a.g||B)&&e.hf(f[0].Aa)||0!==w||0!==J||1!==a.opacity||a.type.wa.mk)||g&&!a&&1!==g.opacity;e.Uk();if(J){k[s]||(k[s]=e.Lc(q,K,this.b.la));if(k[s].ve!==q||k[s].ue!==K)e.deleteTexture(k[s]),k[s]=e.Lc(q,K,this.b.la);e.lc(0);e.Dc(k[s]);A=W-I;e.clearRect(z,K-I-A,C-z,A);a?a.cc(e):(e.Tb(this.b.ib),e.nf(g.opacity),e.Xc(),e.translate(-D,-T),e.gd(),e.Fd(u,G,F,G,F,E,u,E,L));H.left=H.top=0;H.right=H.bottom=1;a&&(h=L.top,L.top=L.bottom,L.bottom=h);s=1;v=0}e.nf(1);w=
f.length-1;var B=e.fi(f[w].Aa),ea=0;d=0;for(l=f.length;d<l;d++){k[s]||(k[s]=e.Lc(q,K,this.b.la));if(k[s].ve!==q||k[s].ue!==K)e.deleteTexture(k[s]),k[s]=e.Lc(q,K,this.b.la);e.lc(f[d].Aa);ea=f[d].index;e.xg(f[d].Aa)&&(this.b.V=m);0==d&&!J?(e.Dc(k[s]),A=W-I,h=K-I-A,e.clearRect(z,h,C-z,A),a?(e.le(b,1/a.width,1/a.height,H.left,H.top,H.right,H.bottom,c,a.$[ea]),a.cc(e)):(e.le(b,1/q,1/K,0,0,1,1,c,g?g.$[ea]:this.$[ea]),e.Tb(g?this.b.ib:this.b.Nb),e.Xc(),e.translate(-D,-T),e.gd(),e.Fd(u,G,F,G,F,E,u,E,L)),
H.left=H.top=0,H.right=H.bottom=1,a&&!B&&(h=G,G=E,E=h)):(e.le(b,1/q,1/K,H.left,H.top,H.right,H.bottom,c,a?a.$[ea]:g?g.$[ea]:this.$[ea]),d===w&&!B?(a?e.Yc(a.Fa,a.Ca):g&&e.Yc(g.Fa,g.Ca),e.Dc(b)):(e.Dc(k[s]),A=W-I,h=K-I-A,e.clearRect(z,h,C-z,A)),e.Tb(k[v]),e.Xc(),e.translate(-D,-T),e.gd(),e.Fd(u,G,F,G,F,E,u,E,L),d===w&&!B&&e.Tb(p));s=0===s?1:0;v=0===s?1:0}B&&(e.lc(0),a?e.Yc(a.Fa,a.Ca):g&&e.Yc(g.Fa,g.Ca),e.Dc(b),e.Tb(k[v]),e.Xc(),e.translate(-D,-T),e.gd(),a&&1===f.length&&!J?e.Fd(u,E,F,E,F,G,u,G,L):e.Fd(u,
G,F,G,F,E,u,E,L),e.Tb(p))};d.prototype.Sf=function(e){var g,a;g=0;for(a=this.K.length;g<a;g++)if(this.K[g].G===e)return this.K[g];return p};d.prototype.Sb=function(){var e,g,a,b={sx:this.scrollX,sy:this.scrollY,s:this.scale,a:this.g,w:this.width,h:this.height,fv:this.De,persist:this.Vc,fx:[],layers:{}};e=0;for(g=this.A.length;e<g;e++)a=this.A[e],b.fx.push({name:a.name,active:a.pc,params:this.$[a.index]});e=0;for(g=this.K.length;e<g;e++)a=this.K[e],b.layers[a.G.toString()]=a.Sb();return b};d.prototype.zc=
function(e){var g,a,b,f;this.scrollX=e.sx;this.scrollY=e.sy;this.scale=e.s;this.g=e.a;this.width=e.w;this.height=e.h;this.Vc=e.persist;"undefined"!==typeof e.fv&&(this.De=e.fv);var c=e.fx;g=0;for(a=c.length;g<a;g++)if(b=this.nh(c[g].name))b.pc=c[g].active,this.$[b.index]=c[g].params;this.Fc();g=e.layers;for(f in g)g.hasOwnProperty(f)&&(e=this.Sf(parseInt(f,10)))&&e.zc(g[f])};Xa=d;h.prototype.Fc=function(){this.M.length=0;var e,g,a;e=0;for(g=this.A.length;e<g;e++)a=this.A[e],a.pc&&this.M.push(a)};
h.prototype.nh=function(e){var g,a,b;g=0;for(a=this.A.length;g<a;g++)if(b=this.A[g],b.name===e)return b;return p};h.prototype.cm=function(){var e,g,a,b,f,c;g=e=0;for(a=this.Qd.length;e<a;e++){b=this.Qd[e];f=this.b.i[b[1]];c=this.b.Ji(f);f=m;if(!c||this.R.De)b=this.b.rd(b,this,m),q.push(b),b.type.global&&(f=t);f&&(this.Qd[g]=this.Qd[e],g++)}this.Qd.length=g;this.b.Ba();!this.b.D&&this.A.length&&(this.Ja=this.pm);this.xe=Ra(this.Ja);this.b.m&&Sa(this,this.Ja,this.b.m)};h.prototype.Eo=function(){if(this.cb){var e,
g;e=0;for(g=this.c.length;e<g;e++)this.c[e].Jd=e;this.cb=t}};h.prototype.qb=function(){return this.dn()*this.b.Bf};h.prototype.dn=function(){return(this.scale*this.R.scale-1)*this.Gc+1};h.prototype.eb=function(){return this.sd?0:wa(this.R.g+this.g)};h.prototype.td=function(e){this.Wc=this.ih||1!==this.opacity||0!==this.Ja;var g=this.b.canvas,a=e;e.globalAlpha=1;e.globalCompositeOperation="source-over";this.Wc&&(this.b.kg||(this.b.kg=document.createElement("canvas"),g=this.b.kg,g.width=this.b.width,
g.height=this.b.height,this.b.dk=g.getContext("2d")),g=this.b.kg,a=this.b.dk,g.width!==this.b.width&&(g.width=this.b.width),g.height!==this.b.height&&(g.height=this.b.height),this.Id&&a.clearRect(0,0,this.b.width,this.b.height));this.Id||(a.fillStyle="rgb("+this.Ic[0]+","+this.Ic[1]+","+this.Ic[2]+")",a.fillRect(0,0,this.b.width,this.b.height));a.save();this.sd=m;var b=this.Qa(0,0,m),f=this.Qa(0,0,t);this.sd=t;this.b.je&&(b=b+0.5|0,f=f+0.5|0);this.oi(b,f,a);var c=this.qb();a.scale(c,c);a.translate(-b,
-f);for(var k,b=0,f=this.c.length;b<f;b++)if(c=this.c[b],c.visible&&!(0===c.width||0===c.height))c.nc(),k=c.N,k.right<this.Ab||(k.bottom<this.Cb||k.left>this.Bb||k.top>this.zb)||(a.globalCompositeOperation=c.xe,c.td(a));a.restore();this.Wc&&(e.globalCompositeOperation=this.xe,e.globalAlpha=this.opacity,e.drawImage(g,0,0))};h.prototype.oi=function(e,g,a){var b=this.qb();this.Ab=e;this.Cb=g;this.Bb=e+this.b.width*(1/b);this.zb=g+this.b.height*(1/b);e=this.eb();0!==e&&(a&&(a.translate(this.b.width/2,
this.b.height/2),a.rotate(-e),a.translate(this.b.width/-2,this.b.height/-2)),this.Ec.set(this.Ab,this.Cb,this.Bb,this.zb),this.Ec.offset((this.Ab+this.Bb)/-2,(this.Cb+this.zb)/-2),this.hl.Xk(this.Ec,e),this.hl.fj(this.Ec),this.Ec.offset((this.Ab+this.Bb)/2,(this.Cb+this.zb)/2),this.Ab=this.Ec.left,this.Cb=this.Ec.top,this.Bb=this.Ec.right,this.zb=this.Ec.bottom)};h.prototype.cc=function(e){var g=this.b.width,a=this.b.height,b=0,f=0;if(this.Wc=this.ih||1!==this.opacity||0<this.M.length||0!==this.Ja){this.b.ib||
(this.b.ib=e.Lc(this.b.width,this.b.height,this.b.la));if(this.b.ib.ve!==this.b.width||this.b.ib.ue!==this.b.height)e.deleteTexture(this.b.ib),this.b.ib=e.Lc(this.b.width,this.b.height,this.b.la);e.Dc(this.b.ib);this.Id&&e.clear(0,0,0,0)}this.Id||e.clear(this.Ic[0]/255,this.Ic[1]/255,this.Ic[2]/255,1);this.sd=m;var f=this.Qa(0,0,m),c=this.Qa(0,0,t);this.sd=t;this.b.je&&(f=f+0.5|0,c=c+0.5|0);this.oi(f,c,p);c=this.qb();e.Xc();e.scale(c,c);e.Ok(-this.eb());e.translate((this.Ab+this.Bb)/-2,(this.Cb+this.zb)/
-2);e.gd();var k,d,l;k=0;for(d=this.c.length;k<d;k++)if(l=this.c[k],l.visible&&!(0===l.width||0===l.height))if(l.nc(),b=l.N,!(b.right<this.Ab||b.bottom<this.Cb||b.left>this.Bb||b.top>this.zb))if(l.ql)if(b=l.M[0].Aa,f=l.M[0].index,1===l.M.length&&!e.fi(b)&&!e.fo(b)&&(!l.g&&!l.d.eb()||!e.hf(b))&&1===l.opacity&&!l.type.wa.mk){e.lc(b);e.Yc(l.Fa,l.Ca);e.xg(b)&&(this.b.V=m);var h=0,q=0,s=0,v=0;e.hf(b)&&(b=l.N,h=this.tb(b.left,b.top,m),q=this.tb(b.left,b.top,t),s=this.tb(b.right,b.bottom,m),b=this.tb(b.right,
b.bottom,t),h/=g,q=1-q/a,s/=g,v=1-b/a);e.le(this.Wc?this.b.ib:this.R.Ge(),1/l.width,1/l.height,h,q,s,v,this.qb(),l.$[f]);l.cc(e)}else this.R.mi(e,this,l,this.Wc?this.b.ib:this.R.Ge()),e.Xc(),e.scale(c,c),e.Ok(-this.eb()),e.translate((this.Ab+this.Bb)/-2,(this.Cb+this.zb)/-2),e.gd();else e.lc(0),e.Yc(l.Fa,l.Ca),l.cc(e);this.Wc&&(b=this.M.length?this.M[0].Aa:0,f=this.M.length?this.M[0].index:0,0===this.M.length||1===this.M.length&&!e.fi(b)&&1===this.opacity?(1===this.M.length?(e.lc(b),e.le(this.R.Ge(),
1/this.b.width,1/this.b.height,0,0,1,1,this.qb(),this.$[f]),e.xg(b)&&(this.b.V=m)):e.lc(0),e.Dc(this.R.Ge()),e.nf(this.opacity),e.Tb(this.b.ib),e.Yc(this.Fa,this.Ca),e.Xc(),e.gd(),g=this.b.width/2,a=this.b.height/2,e.yg(-g,a,g,a,g,-a,-g,-a),e.Tb(p)):this.R.mi(e,this,p,this.R.Ge()))};h.prototype.Qa=function(e,g,a){var b=this.b.devicePixelRatio;this.b.Qe&&0<this.b.pb&&(e*=b,g*=b);var b=this.b.Xa/2,f=this.b.Wa/2,b=(this.R.scrollX-b)*this.Tc+b,f=(this.R.scrollY-f)*this.Uc+f,c=1/this.qb(),b=b-this.b.width*
c/2,f=f-this.b.height*c/2,b=b+e*c,f=f+g*c;g=this.eb();0!==g&&(b-=this.R.scrollX,f-=this.R.scrollY,e=Math.cos(g),g=Math.sin(g),c=b*e-f*g,f=f*e+b*g,b=c+this.R.scrollX,f+=this.R.scrollY);return a?b:f};h.prototype.tb=function(e,g,a){var b=this.eb();if(0!==b){e-=this.R.scrollX;g-=this.R.scrollY;var f=Math.cos(-b),b=Math.sin(-b),c=e*f-g*b;g=g*f+e*b;e=c+this.R.scrollX;g+=this.R.scrollY}f=this.b.Xa/2;b=this.b.Wa/2;f=(this.R.scrollX-f)*this.Tc+f;b=(this.R.scrollY-b)*this.Uc+b;c=1/this.qb();f-=this.b.width*
c/2;b-=this.b.height*c/2;f=(e-f)/c;b=(g-b)/c;e=this.b.devicePixelRatio;this.b.Qe&&0<this.b.pb&&(f/=e,b/=e);return a?f:b};h.prototype.Sb=function(){var e,g,a,b={s:this.scale,a:this.g,vl:this.Ab,vt:this.Cb,vr:this.Bb,vb:this.zb,v:this.visible,bc:this.Ic,t:this.Id,px:this.Tc,py:this.Uc,o:this.opacity,zr:this.Gc,fx:[],instances:[]};e=0;for(g=this.A.length;e<g;e++)a=this.A[e],b.fx.push({name:a.name,active:a.pc,params:this.$[a.index]});return b};h.prototype.zc=function(e){var g,a;this.scale=e.s;this.g=
e.a;this.Ab=e.vl;this.Cb=e.vt;this.Bb=e.vr;this.zb=e.vb;this.visible=e.v;this.Ic=e.bc;this.Id=e.t;this.Tc=e.px;this.Uc=e.py;this.opacity=e.o;this.Gc=e.zr;var b=e.fx;e=0;for(g=b.length;e<g;e++)if(a=this.nh(b[e].name))a.pc=b[e].active,this.$[a.index]=b[e].params;this.Fc();this.c.sort(l);this.cb=m};gb=h})();
(function(){function d(a,b){var c,f=a.length;switch(f){case 0:return m;case 1:return a[0]===b[0];case 2:return a[0]===b[0]&&a[1]===b[1];default:for(c=0;c<f;c++)if(a[c]!==b[c])return t;return m}}function h(a,b){return a.index-b.index}function l(a){var b,c,f,k;2===a.length?a[0].index>a[1].index&&(b=a[0],a[0]=a[1],a[1]=b):2<a.length&&a.sort(h);a.length>=w.length&&(w.length=a.length+1);w[a.length]||(w[a.length]=[]);k=w[a.length];b=0;for(c=k.length;b<c;b++)if(f=k[b],d(a,f))return f;k.push(a);return a}
function q(a,b){this.b=a;this.jl={};this.xj={};this.uh=t;this.Mj=new Na;this.name=b[0];var c=b[1];this.Nc=[];var f,k;f=0;for(k=c.length;f<k;f++)this.Oj(c[f],p,this.Nc)}function e(a){this.type=a;this.c=[];this.S=[];this.aa=m}function g(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ea=[];this.Zc=[];this.Kj=this.Fg=this.Gi=this.yh=this.group=this.al=t;this.ga=[];this.Eb=[];this.yb=[];c[1]?(this.Ie=c[1][1].toLowerCase(),this.group=m,this.yh=!!c[1][0],this.b.Ld.push(this),this.b.zf[this.Ie.toLowerCase()]=
this.yh):(this.Ie="",this.yh=this.group=t);this.jc=c[2];this.G=c[3];this.group||(this.b.ej[this.G.toString()]=this);var f=c[4];a=0;for(b=f.length;a<b;a++){var k=new hb(this,f[a]);this.ga.push(k);this.Zi(k.type)}f=c[5];a=0;for(b=f.length;a<b;a++)k=new ib(this,f[a]),this.Eb.push(k);if(7===c.length){c=c[6];a=0;for(b=c.length;a<b;a++)this.sheet.Oj(c[a],this,this.yb)}this.bg=t;this.ga.length&&(this.bg=this.ga[0].type==p&&this.ga[0].ja==Z.prototype.j.sl)}function a(a,b){var c,f,k;if(a&&(-1===b.indexOf(a)&&
b.push(a),a.Lb)){c=0;for(f=a.La.length;c<f;c++)k=a.La[c],a!==k&&-1===b.indexOf(k)&&b.push(k)}}function b(a,b){this.lb=a;this.sheet=a.sheet;this.b=a.b;this.n=[];this.B=[];this.ba={};this.ja=b[1];this.trigger=0<b[3];this.wj=2===b[3];this.Ac=b[4];this.Ne=b[5];this.Ln=b[6];this.G=b[7];this.b.Nd[this.G.toString()]=this;-1===b[0]?(this.type=p,this.qa=this.ri,this.od=p,this.ya=-1):(this.type=this.b.i[b[0]],this.qa=this.Ln?this.po:this.qi,b[2]?(this.od=this.type.Rf(b[2]),this.ya=this.type.mh(b[2])):(this.od=
p,this.ya=-1),this.lb.parent&&this.lb.parent.Bg());this.wj&&(this.qa=this.qo);if(9===b.length){var c,f,k=b[8];c=0;for(f=k.length;c<f;c++){var e=new jb(this,k[c]);this.n.push(e)}this.B.length=k.length}}function f(a,b){this.lb=a;this.sheet=a.sheet;this.b=a.b;this.n=[];this.B=[];this.ba={};this.ja=b[1];-1===b[0]?(this.type=p,this.qa=this.ri,this.od=p,this.ya=-1):(this.type=this.b.i[b[0]],this.qa=this.qi,b[2]?(this.od=this.type.Rf(b[2]),this.ya=this.type.mh(b[2])):(this.od=p,this.ya=-1));this.G=b[3];
this.b.Kd[this.G.toString()]=this;if(5===b.length){var c,f,k=b[4];c=0;for(f=k.length;c<f;c++){var e=new jb(this,k[c]);this.n.push(e)}this.B.length=k.length}}function c(a,b){this.p=a;this.lb=a.lb;this.sheet=a.sheet;this.b=a.b;this.type=b[0];this.ec=p;this.nj=this.$c=0;this.R=p;this.key=0;this.object=p;this.index=0;this.Jg=this.ne=this.yj=this.xd=this.xf=p;var c,f,k;switch(b[0]){case 0:case 7:this.ec=new X(this,b[1]);this.$c=0;this.get=this.on;break;case 1:this.ec=new X(this,b[1]);this.$c=0;this.get=
this.pn;break;case 5:this.ec=new X(this,b[1]);this.$c=0;this.get=this.tn;break;case 3:case 8:this.nj=b[1];this.get=this.mn;break;case 6:this.R=this.b.Ih[b[1]];this.get=this.un;break;case 9:this.key=b[1];this.get=this.sn;break;case 4:this.object=this.b.i[b[1]];this.get=this.vn;this.lb.Zi(this.object);this.p instanceof ib?this.lb.Bg():this.lb.parent&&this.lb.parent.Bg();break;case 10:this.index=b[1];this.get=a.type.J?this.qn:this.rn;break;case 11:this.xf=b[1];this.xd=p;this.get=this.nn;break;case 2:case 12:this.yj=
b[1];this.get=this.ln;break;case 13:this.get=this.wn;this.ne=[];this.Jg=[];c=1;for(f=b.length;c<f;c++)k=new jb(this.p,b[c]),this.ne.push(k),this.Jg.push(0)}}function k(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;this.ea=[];this.name=c[1];this.qq=c[2];this.xh=c[3];this.Te=!!c[4];this.ag=!!c[5];this.G=c[6];this.b.pe[this.G.toString()]=this;this.data=this.xh;this.parent?this.Cd=this.Te||this.ag?-1:this.b.xo++:(this.Cd=-1,this.b.Rl.push(this))}function n(a,b,c){this.sheet=a;this.parent=b;this.b=a.b;
this.ea=[];this.Le=p;this.An=c[1]}function r(){this.bl=[];this.reset(p)}var w=[];q.prototype.toString=P("name");q.prototype.Oj=function(a,b,c){switch(a[0]){case 0:a=new kb(this,b,a);if(a.jc){c.push(a);c=0;for(b=a.ga.length;c<b;c++)a.ga[c].trigger&&this.Pj(a,c)}else a.Uj()?this.Pj(a,0):c.push(a);break;case 1:a=new $a(this,b,a);c.push(a);break;case 2:a=new lb(this,b,a),c.push(a)}};q.prototype.da=function(){var a,b;a=0;for(b=this.Nc.length;a<b;a++)this.Nc[a].da(a<b-1&&this.Nc[a+1].bg)};q.prototype.qa=
function(){this.uh=m;this.b.Ch=m;var a,b;a=0;for(b=this.Nc.length;a<b;a++){var c=this.Nc[a];c.qa();this.b.Vg(c.ea);(!this.b.$b.Oe()||this.b.Zb.length)&&this.b.Ba()}this.b.Ch=t};q.prototype.Pj=function(a,b){a.jc||this.b.Hg.push(a);var c,f,k=a.ga[b],e;e=k.type?k.type.name:"system";var g=(c=k.wj)?this.xj:this.jl;g[e]||(g[e]=[]);e=g[e];g=k.ja;if(c){if(k.n.length&&(k=k.n[0],!(1!==k.type||2!==k.ec.type))){k=k.ec.value.toLowerCase();c=0;for(f=e.length;c<f;c++)if(e[c].method==g){c=e[c].Mf;c[k]?c[k].push([a,
b]):c[k]=[[a,b]];return}c={};c[k]=[[a,b]];e.push({method:g,Mf:c})}}else{c=0;for(f=e.length;c<f;c++)if(e[c].method==g){e[c].Mf.push([a,b]);return}e.push({method:g,Mf:[[a,b]]})}};Ya=q;e.prototype.th=function(){return this.aa?this.type.c.length:this.c.length};e.prototype.gc=function(){return this.aa?this.type.c:this.c};e.prototype.gf=function(a){a&&(a.b.fb().Kb.jc?(this.aa&&(this.c.length=0,ra(this.S,a.type.c),this.aa=t),a=this.S.indexOf(a),-1!==a&&(this.c.push(this.S[a]),this.S.splice(a,1))):(this.aa=
t,this.c.length=1,this.c[0]=a))};Wa=e;g.prototype.da=function(a){var b,c=this.parent;if(this.group)for(this.Fg=m;c;){if(!c.group){this.Fg=t;break}c=c.parent}this.Gi=!this.Uj()&&(!this.parent||this.parent.group&&this.parent.Fg);this.Kj=!!a;this.Zc=this.ea.slice(0);for(c=this.parent;c;){a=0;for(b=c.ea.length;a<b;a++)this.Ql(c.ea[a]);c=c.parent}this.ea=l(this.ea);this.Zc=l(this.Zc);a=0;for(b=this.ga.length;a<b;a++)this.ga[a].da();a=0;for(b=this.Eb.length;a<b;a++)this.Eb[a].da();a=0;for(b=this.yb.length;a<
b;a++)this.yb[a].da(a<b-1&&this.yb[a+1].bg)};g.prototype.Zi=function(b){a(b,this.ea)};g.prototype.Ql=function(b){a(b,this.Zc)};g.prototype.Bg=function(){this.al=m;this.parent&&this.parent.Bg()};g.prototype.Uj=function(){return this.ga.length?this.ga[0].trigger:t};g.prototype.qa=function(){var a,b=t,c=this.b.fb();c.Kb=this;this.bg||(c.dh=t);if(this.jc){0===this.ga.length&&(b=m);c.Ka=0;for(a=this.ga.length;c.Ka<a;c.Ka++)this.ga[c.Ka].trigger||this.ga[c.Ka].qa()&&(b=m);(c.Wd=b)&&this.pi()}else{c.Ka=
0;for(a=this.ga.length;c.Ka<a;c.Ka++)if(!this.ga[c.Ka].qa()){c.Wd=t;this.Gi&&(!this.b.$b.Oe()||this.b.Zb.length)&&this.b.Ba();return}c.Wd=m;this.pi()}c.Wd&&this.Kj&&(c.dh=m);this.Gi&&(!this.b.$b.Oe()||this.b.Zb.length)&&this.b.Ba()};g.prototype.no=function(a){this.b.fb().Kb=this;this.ga[a].qa()&&this.pi()};g.prototype.pi=function(){var a=this.b.fb(),b;a.kb=0;for(b=this.Eb.length;a.kb<b;a.kb++)if(this.Eb[a.kb].qa())return;this.Pk()};g.prototype.ko=function(){var a=this.b.fb(),b;for(b=this.Eb.length;a.kb<
b;a.kb++)if(this.Eb[a.kb].qa())return;this.Pk()};g.prototype.Pk=function(){if(this.yb.length){var a,b,c,f,k=this.yb.length-1;this.b.ii(this);if(this.al){a=0;for(b=this.yb.length;a<b;a++)c=this.yb[a],(f=!this.Fg||!this.group&&a<k)&&this.b.hi(c.ea),c.qa(),f?this.b.ke(c.ea):this.b.Vg(c.ea)}else{a=0;for(b=this.yb.length;a<b;a++)this.yb[a].qa()}this.b.Fk()}};g.prototype.oo=function(){var a=this.b.fb();a.Kb=this;var b=t,c;a.Ka=0;for(c=this.ga.length;a.Ka<c;a.Ka++)if(this.ga[a.Ka].qa())b=m;else if(!this.jc)return t;
return this.jc?b:m};kb=g;b.prototype.da=function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.n[a].da()};b.prototype.qo=Q(m);b.prototype.ri=function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.B[a]=this.n[a].get();return Ka(this.ja.apply(this.b.mc,this.B),this.Ne)};b.prototype.po=function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.B[a]=this.n[a].get(a);a=this.ja.apply(this.od?this.od:this.type,this.B);this.type.te();return a};b.prototype.qi=function(){var a,b,c,f,k,e,g,d=this.type.X(),l=
this.lb.jc&&!this.trigger,n=0,h=this.type.Lb;if(d.aa){d.c.length=0;a=d.S.length=0;for(c=this.type.c.length;a<c;a++){e=this.type.c[a];b=0;for(f=this.n.length;b<f;b++)this.B[b]=this.n[b].get(a);-1<this.ya?(this.type.J&&(n=e.type.Od[this.type.fc]),b=this.ja.apply(e.H[this.ya+n],this.B)):b=this.ja.apply(e,this.B);(k=Ka(b,this.Ne))?d.c.push(e):l&&d.S.push(e)}this.type.finish&&this.type.finish(m);d.aa=t;this.type.te();return d.th()}var w=0,r=l?d.S:d.c;k=t;a=0;for(c=r.length;a<c;a++){e=r[a];b=0;for(f=this.n.length;b<
f;b++)this.B[b]=this.n[b].get(a);-1<this.ya?(this.type.J&&(n=e.type.Od[this.type.fc]),b=this.ja.apply(e.H[this.ya+n],this.B)):b=this.ja.apply(e,this.B);if(Ka(b,this.Ne))if(k=m,l){if(d.c.push(e),h){b=0;for(f=e.siblings.length;b<f;b++)g=e.siblings[b],g.type.X().c.push(g)}}else{r[w]=e;if(h){b=0;for(f=e.siblings.length;b<f;b++)g=e.siblings[b],g.type.X().c[w]=g}w++}else if(l){r[w]=e;if(h){b=0;for(f=e.siblings.length;b<f;b++)g=e.siblings[b],g.type.X().S[w]=g}w++}}r.length=w;if(h){a=0;for(c=this.type.La.length;a<
c;a++)e=this.type.La[a].X(),l?e.S.length=w:e.c.length=w}n=k;if(l&&!k){a=0;for(c=d.c.length;a<c;a++){e=d.c[a];b=0;for(f=this.n.length;b<f;b++)this.B[b]=this.n[b].get(a);b=-1<this.ya?this.ja.apply(e.H[this.ya],this.B):this.ja.apply(e,this.B);if(Ka(b,this.Ne)){k=m;break}}}this.type.finish&&this.type.finish(n||l);return l?k:d.th()};hb=b;f.prototype.da=function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.n[a].da()};f.prototype.ri=function(){var a,b;a=0;for(b=this.n.length;a<b;a++)this.B[a]=this.n[a].get();
return this.ja.apply(this.b.mc,this.B)};f.prototype.qi=function(){var a=this.type.X().gc(),b,c,f,k,e;b=0;for(f=a.length;b<f;b++){e=a[b];c=0;for(k=this.n.length;c<k;c++)this.B[c]=this.n[c].get(b);-1<this.ya?(c=0,this.type.J&&(c=e.type.Od[this.type.fc]),this.ja.apply(e.H[this.ya+c],this.B)):this.ja.apply(e,this.B)}return t};ib=f;var x=[],s=-1;c.prototype.da=function(){var a,b;if(11===this.type)this.xd=this.b.Dj(this.xf,this.lb.parent);else if(13===this.type){a=0;for(b=this.ne.length;a<b;a++)this.ne[a].da()}this.ec&&
this.ec.da()};c.prototype.pa=function(){s++;x.length===s&&x.push(new mb);return x[s]};c.prototype.ka=function(){s--};c.prototype.on=function(a){this.$c=a||0;a=this.pa();this.ec.get(a);this.ka();return a.data};c.prototype.pn=function(a){this.$c=a||0;a=this.pa();this.ec.get(a);this.ka();return S(a.data)?a.data:""};c.prototype.vn=P("object");c.prototype.mn=P("nj");c.prototype.tn=function(a){this.$c=a||0;a=this.pa();this.ec.get(a);this.ka();return a.ua()?this.b.Fe(a.data):this.b.qh(a.data)};c.prototype.un=
P("R");c.prototype.sn=P("key");c.prototype.rn=P("index");c.prototype.qn=function(a){var b=this.p.type,c=p,c=b.X(),f=c.gc(),c=f.length?f[a%f.length].type:c.S[a%c.S.length].type;return this.index+c.Of[b.fc]};c.prototype.nn=P("xd");c.prototype.ln=P("yj");c.prototype.wn=function(){var a,b;a=0;for(b=this.ne.length;a<b;a++)this.Jg[a]=this.ne[a].get();return this.Jg};jb=c;k.prototype.da=function(){this.ea=l(this.ea)};k.prototype.vo=function(a){var b=this.b.Cj();!this.parent||this.Te||!b?this.data=a:(this.Cd>=
b.length&&(b.length=this.Cd+1),b[this.Cd]=a)};k.prototype.kn=function(){var a=this.b.Cj();return!this.parent||this.Te||!a||this.ag?this.data:this.Cd>=a.length||"undefined"===typeof a[this.Cd]?this.xh:a[this.Cd]};k.prototype.qa=function(){this.parent&&(!this.Te&&!this.ag)&&this.vo(this.xh)};$a=k;n.prototype.toString=function(){return"include:"+this.Le.toString()};n.prototype.da=function(){this.Le=this.b.fh[this.An];this.sheet.Mj.add(this);this.ea=l(this.ea)};n.prototype.qa=function(){this.parent&&
this.b.jf(this.b.i);this.Le.uh||this.Le.qa();this.parent&&this.b.ke(this.b.i)};n.prototype.Cn=function(){for(var a=this.parent;a;){if(a.group&&!this.b.zf[a.Ie.toLowerCase()])return t;a=a.parent}return m};lb=n;r.prototype.reset=function(a){this.Kb=a;this.kb=this.Ka=0;this.bl.length=0;this.dh=this.Wd=t};Za=r})();
(function(){function d(d,h){this.p=d;this.b=d.b;this.type=h[0];this.get=[this.Cm,this.ym,this.Km,this.Nm,this.rm,this.Lm,this.Gm,this.vm,this.Fm,this.Jm,this.tm,this.Im,this.wm,this.Hm,this.Dm,this.Em,this.zm,this.Am,this.um,this.Mm,this.uj,this.Bm,this.uj,this.xm][this.type];var e=p;this.Va=this.n=this.B=this.ja=this.Eg=this.xa=this.first=this.value=p;this.ya=-1;this.vc=p;this.Li=-1;this.xd=this.xf=this.Sl=p;this.kf=t;switch(this.type){case 0:case 1:case 2:this.value=h[1];break;case 3:this.first=
new X(d,h[1]);break;case 18:this.first=new X(d,h[1]);this.xa=new X(d,h[2]);this.Eg=new X(d,h[3]);break;case 19:this.ja=h[1];this.B=[];this.n=[];3===h.length?(e=h[2],this.B.length=e.length+1):this.B.length=1;break;case 20:this.Va=this.b.i[h[1]];this.ya=-1;this.ja=h[2];this.kf=h[3];this.vc=h[4]?new X(d,h[4]):p;this.B=[];this.n=[];6===h.length?(e=h[5],this.B.length=e.length+1):this.B.length=1;break;case 21:this.Va=this.b.i[h[1]];this.kf=h[2];this.vc=h[3]?new X(d,h[3]):p;this.Li=h[4];break;case 22:this.Va=
this.b.i[h[1]];this.Sl=this.Va.Rf(h[2]);this.ya=this.Va.mh(h[2]);this.ja=h[3];this.kf=h[4];this.vc=h[5]?new X(d,h[5]):p;this.B=[];this.n=[];7===h.length?(e=h[6],this.B.length=e.length+1):this.B.length=1;break;case 23:this.xf=h[1],this.xd=p}4<=this.type&&17>=this.type&&(this.first=new X(d,h[1]),this.xa=new X(d,h[2]));if(e){var g,a;g=0;for(a=e.length;g<a;g++)this.n.push(new X(d,e[g]))}}function h(d,h){this.type=d||Y.re;this.data=h||0;this.ee=p;this.type==Y.re&&(this.data=Math.floor(this.data))}d.prototype.da=
function(){23===this.type&&(this.xd=this.p.b.Dj(this.xf,this.p.lb.parent));this.first&&this.first.da();this.xa&&this.xa.da();this.Eg&&this.Eg.da();this.vc&&this.vc.da();if(this.n){var d,h;d=0;for(h=this.n.length;d<h;d++)this.n[d].da()}};d.prototype.Mm=function(d){this.B[0]=d;d=this.p.pa();var h,e;h=0;for(e=this.n.length;h<e;h++)this.n[h].get(d),this.B[h+1]=d.data;this.p.ka();this.ja.apply(this.b.mc,this.B)};d.prototype.uj=function(d){var h=this.Va.X(),e=h.gc();if(!e.length)if(h.S.length)e=h.S;else{this.kf?
d.Ub(""):d.W(0);return}this.B[0]=d;d.ee=this.Va;d=this.p.pa();var g,h=0;for(g=this.n.length;h<g;h++)this.n[h].get(d),this.B[h+1]=d.data;h=this.p.$c;this.vc&&(this.vc.get(d),d.ua()&&(h=d.data,e=this.Va.c));this.p.ka();h%=e.length;0>h&&(h+=e.length);e=e[h];-1<this.ya?(d=0,this.Va.J&&(d=e.type.Od[this.Va.fc]),this.ja.apply(e.H[this.ya+d],this.B)):this.ja.apply(e,this.B)};d.prototype.Bm=function(d){var h=this.Va.X(),e=h.gc();if(!e.length)if(h.S.length)e=h.S;else{this.kf?d.Ub(""):d.W(0);return}h=this.p.$c;
if(this.vc){var g=this.p.pa();this.vc.get(g);if(g.ua()){h=g.data;e=this.Va.c;h%=e.length;0>h&&(h+=e.length);e=e[h].ta[this.Li];S(e)?d.Ub(e):d.C(e);this.p.ka();return}this.p.ka()}h%=e.length;0>h&&(h+=e.length);e=e[h];h=0;this.Va.J&&(h=e.type.Of[this.Va.fc]);e=e.ta[this.Li+h];S(e)?d.Ub(e):d.C(e)};d.prototype.Cm=function(d){d.type=Y.re;d.data=this.value};d.prototype.ym=function(d){d.type=Y.qe;d.data=this.value};d.prototype.Km=function(d){d.type=Y.Og;d.data=this.value};d.prototype.Nm=function(d){this.first.get(d);
d.ua()&&(d.data=-d.data)};d.prototype.rm=function(d){this.first.get(d);var h=this.p.pa();this.xa.get(h);d.ua()&&h.ua()&&(d.data+=h.data,h.Ud()&&d.de());this.p.ka()};d.prototype.Lm=function(d){this.first.get(d);var h=this.p.pa();this.xa.get(h);d.ua()&&h.ua()&&(d.data-=h.data,h.Ud()&&d.de());this.p.ka()};d.prototype.Gm=function(d){this.first.get(d);var h=this.p.pa();this.xa.get(h);d.ua()&&h.ua()&&(d.data*=h.data,h.Ud()&&d.de());this.p.ka()};d.prototype.vm=function(d){this.first.get(d);var h=this.p.pa();
this.xa.get(h);d.ua()&&h.ua()&&(d.data/=h.data,d.de());this.p.ka()};d.prototype.Fm=function(d){this.first.get(d);var h=this.p.pa();this.xa.get(h);d.ua()&&h.ua()&&(d.data%=h.data,h.Ud()&&d.de());this.p.ka()};d.prototype.Jm=function(d){this.first.get(d);var h=this.p.pa();this.xa.get(h);d.ua()&&h.ua()&&(d.data=Math.pow(d.data,h.data),h.Ud()&&d.de());this.p.ka()};d.prototype.tm=function(d){this.first.get(d);var h=this.p.pa();this.xa.get(h);d.ua()?h.cg()?d.Ub(d.data.toString()+h.data):d.data&&h.data?d.W(1):
d.W(0):d.cg()&&(d.data=h.cg()?d.data+h.data:d.data+(Math.round(1E10*h.data)/1E10).toString());this.p.ka()};d.prototype.Im=function(d){this.first.get(d);var h=this.p.pa();this.xa.get(h);d.ua()&&h.ua()&&(d.data||h.data?d.W(1):d.W(0));this.p.ka()};d.prototype.um=function(d){this.first.get(d);d.data?this.xa.get(d):this.Eg.get(d)};d.prototype.wm=function(d){this.first.get(d);var h=this.p.pa();this.xa.get(h);d.W(d.data===h.data?1:0);this.p.ka()};d.prototype.Hm=function(d){this.first.get(d);var h=this.p.pa();
this.xa.get(h);d.W(d.data!==h.data?1:0);this.p.ka()};d.prototype.Dm=function(d){this.first.get(d);var h=this.p.pa();this.xa.get(h);d.W(d.data<h.data?1:0);this.p.ka()};d.prototype.Em=function(d){this.first.get(d);var h=this.p.pa();this.xa.get(h);d.W(d.data<=h.data?1:0);this.p.ka()};d.prototype.zm=function(d){this.first.get(d);var h=this.p.pa();this.xa.get(h);d.W(d.data>h.data?1:0);this.p.ka()};d.prototype.Am=function(d){this.first.get(d);var h=this.p.pa();this.xa.get(h);d.W(d.data>=h.data?1:0);this.p.ka()};
d.prototype.xm=function(d){var h=this.xd.kn();ba(h)?d.C(h):d.Ub(h)};X=d;h.prototype.Ud=function(){return this.type===Y.qe};h.prototype.ua=function(){return this.type===Y.re||this.type===Y.qe};h.prototype.cg=function(){return this.type===Y.Og};h.prototype.de=function(){this.Ud()||(this.cg()&&(this.data=parseFloat(this.data)),this.type=Y.qe)};h.prototype.W=function(d){this.type=Y.re;this.data=Math.floor(d)};h.prototype.C=function(d){this.type=Y.qe;this.data=d};h.prototype.Ub=function(d){this.type=Y.Og;
this.data=d};mb=h;Y={re:0,qe:1,Og:2}})();function Z(d){this.b=d;this.bb=[]}
Z.prototype.Sb=function(){var d={},h,l,q,e,g,a,b,f;d.waits=[];var c=d.waits,k;h=0;for(l=this.bb.length;h<l;h++){a=this.bb[h];k={t:a.time,ev:a.Ae.G,sm:[],sols:{}};a.Ae.Eb[a.kb]&&(k.act=a.Ae.Eb[a.kb].G);q=0;for(e=a.ea.length;q<e;q++)k.sm.push(a.ea[q].G);for(g in a.Za)if(a.Za.hasOwnProperty(g)){b=this.b.i[parseInt(g,10)];f={sa:a.Za[g].Qk,insts:[]};q=0;for(e=a.Za[g].Ad.length;q<e;q++)f.insts.push(a.Za[g].Ad[q].uid);k.sols[b.G.toString()]=f}c.push(k)}return d};
Z.prototype.zc=function(d){d=d.waits;var h,l,q,e,g,a,b,f,c,k,n;h=this.bb.length=0;for(l=d.length;h<l;h++)if(a=d[h],f=this.b.ej[a.ev.toString()]){c=-1;q=0;for(e=f.Eb.length;q<e;q++)if(f.Eb[q].G===a.act){c=q;break}if(-1!==c){b={Za:{},ea:[],rj:t};b.time=a.t;b.Ae=f;b.kb=c;q=0;for(e=a.sm.length;q<e;q++)(f=this.b.Vf(a.sm[q]))&&b.ea.push(f);for(g in a.sols)if(a.sols.hasOwnProperty(g)&&(f=this.b.Vf(parseInt(g,10)))){c=a.sols[g];k={Qk:c.sa,Ad:[]};q=0;for(e=c.insts.length;q<e;q++)(n=this.b.Uf(c.insts[q]))&&
k.Ad.push(n);b.Za[f.index.toString()]=k}this.bb.push(b)}}};
(function(){function d(){}function h(){}var l=Z.prototype;d.prototype.Al=Q(m);d.prototype.zl=Q(m);d.prototype.sl=function(){var d=this.b.fb();return d.dh?t:!d.Wd};d.prototype.Pi=Q(m);d.prototype.wl=Q(m);d.prototype.Ng=Q(m);d.prototype.Bl=Q(m);d.prototype.Mg=Q(m);l.j=new d;var q=[],e=[];l.ld=new (M());h.prototype["int"]=function(d,a){S(a)?(d.W(parseInt(a,10)),isNaN(d.data)&&(d.data=0)):d.W(a)};h.prototype["float"]=function(d,a){S(a)?(d.C(parseFloat(a)),isNaN(d.data)&&(d.data=0)):d.C(a)};h.prototype.sqrt=
function(d,a){d.C(Math.sqrt(a))};h.prototype.round=function(d,a){d.W(Math.round(a))};h.prototype.floor=function(d,a){d.W(Math.floor(a))};h.prototype.ceil=function(d,a){d.W(Math.ceil(a))};h.prototype.sin=function(d,a){d.C(Math.sin(U(a)))};h.prototype.cos=function(d,a){d.C(Math.cos(U(a)))};h.prototype.tan=function(d,a){d.C(Math.tan(U(a)))};h.prototype.acos=function(d,a){d.C(ta(Math.acos(a)))};h.prototype.exp=function(d,a){d.C(Math.exp(a))};h.prototype.max=function(d){var a=arguments[1],b,f;b=2;for(f=
arguments.length;b<f;b++)a<arguments[b]&&(a=arguments[b]);d.C(a)};h.prototype.min=function(d){var a=arguments[1],b,f;b=2;for(f=arguments.length;b<f;b++)a>arguments[b]&&(a=arguments[b]);d.C(a)};h.prototype.ud=function(d){d.C(this.b.ud)};h.prototype.Hd=function(d){d.C(this.b.Hd)};h.prototype.time=function(d){d.C(this.b.Mb.jb)};h.prototype.uf=function(d){d.W(this.b.uf)};h.prototype.rg=function(d){d.W(this.b.rg)};h.prototype.jh=function(d){d.W(this.b.jh)};h.prototype.g=function(d,a,b,f,c){d.C(ta(Ca(a,
b,f,c)))};h.prototype.left=function(d,a,b){d.Ub(S(a)?a.substr(0,b):"")};h.prototype.right=function(d,a,b){d.Ub(S(a)?a.substr(a.length-b):"")};h.prototype.replace=function(d,a,b,f){S(a)&&S(b)&&S(f)?d.Ub(a.replace(RegExp(Pa(b),"gi"),f)):d.Ub(S(a)?a:"")};h.prototype.Wg=function(d){d.C(this.b.Wg/1E3)};h.prototype.Yd=function(d){d.C(this.b.Yd)};l.Oc=new h;l.mo=function(){var d,a,b,f,c,k,h=this.b.fb();d=0;for(b=this.bb.length;d<b;d++)if(f=this.bb[d],!(f.time>this.b.Mb.jb)){h.Kb=f.Ae;h.kb=f.kb;h.Ka=0;for(a in f.Za)f.Za.hasOwnProperty(a)&&
(c=this.b.i[parseInt(a,10)].X(),k=f.Za[a],c.aa=k.Qk,ra(c.c,k.Ad),c=k,c.Ad.length=0,e.push(c));f.Ae.ko();this.b.Vg(f.ea);f.rj=m}a=d=0;for(b=this.bb.length;d<b;d++)f=this.bb[d],this.bb[a]=f,f.rj?(Ma(f.Za),f.ea.length=0,q.push(f)):a++;this.bb.length=a}})();
function wb(d){var h=d[0].prototype,l=d[1],q=d[3],e=d[4],g=d[5],a=d[6],b=d[7];d=d[8];h.j||(h.j={});h.ld||(h.ld={});h.Oc||(h.Oc={});var f=h.j,c=h.ld,h=h.Oc;q&&(f.Vo=function(a,b){return Vb(this.x,a,b)},f.Wo=function(a,b){return Vb(this.y,a,b)},f.fp=function(){var a=this.d;this.nc();var b=this.N;return!(b.right<a.Ab||b.bottom<a.Cb||b.left>a.Bb||b.top>a.zb)},f.gp=function(){this.nc();var a=this.N,b=this.b.O;return 0>a.right||0>a.bottom||a.left>b.width||a.top>b.height},f.sp=function(a,b,c){var d=this.X(),
f=d.gc();if(!f.length)return t;var e=f[0],g=e,h=Ja(e.x,e.y,b,c),l,q,D;l=1;for(q=f.length;l<q;l++)if(e=f[l],D=Ja(e.x,e.y,b,c),0===a&&D<h||1===a&&D>h)h=D,g=e;d.gf(g);return m},c.Np=function(a){this.x!==a&&(this.x=a,this.Ea())},c.Op=function(a){this.y!==a&&(this.y=a,this.Ea())},c.Hp=function(a,b){if(this.x!==a||this.y!==b)this.x=a,this.y=b,this.Ea()},c.Ip=function(a,b){var c=a.en(this);if(c){var f;c.ph?(f=c.ph(b,m),c=c.ph(b,t)):(f=c.x,c=c.y);if(this.x!==f||this.y!==c)this.x=f,this.y=c,this.Ea()}},c.lp=
function(a){0!==a&&(this.x+=Math.cos(this.g)*a,this.y+=Math.sin(this.g)*a,this.Ea())},c.kp=function(a,b){0!==b&&(this.x+=Math.cos(U(a))*b,this.y+=Math.sin(U(a))*b,this.Ea())},h.Jl=function(a){a.C(this.x)},h.Kl=function(a){a.C(this.y)},h.ud=function(a){a.C(this.b.Zm(this))});e&&(f.Uo=function(a,b){return Vb(this.width,a,b)},f.Ro=function(a,b){return Vb(this.height,a,b)},c.Mp=function(a){this.width!==a&&(this.width=a,this.Ea())},c.Ep=function(a){this.height!==a&&(this.height=a,this.Ea())},c.Jp=function(a,
b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.Ea()},h.Sp=function(a){a.C(this.width)},h.Zo=function(a){a.C(this.height)},h.Oo=function(a){this.nc();a.C(this.N.left)},h.Qo=function(a){this.nc();a.C(this.N.top)},h.Po=function(a){this.nc();a.C(this.N.right)},h.No=function(a){this.nc();a.C(this.N.bottom)});g&&(f.Mo=function(a,b){return Da(this.g,U(b))<=U(a)},f.dp=function(a){return Fa(this.g,U(a))},f.bp=function(a,b){var c=Ba(a),f=Ba(b),d=wa(this.g);return Fa(f,c)?Fa(d,c)&&!Fa(d,
f):!(!Fa(d,c)&&Fa(d,f))},c.Ap=function(a){a=U(va(a));!isNaN(a)&&this.g!==a&&(this.g=a,this.Ea())},c.wp=function(a){0!==a&&!isNaN(a)&&(this.g+=U(a),this.g=wa(this.g),this.Ea())},c.xp=function(a){0!==a&&!isNaN(a)&&(this.g-=U(a),this.g=wa(this.g),this.Ea())},c.yp=function(a,b){var c=Ea(this.g,U(b),U(a));!isNaN(c)&&this.g!==c&&(this.g=c,this.Ea())},c.zp=function(a,b,c){a=Ea(this.g,Math.atan2(c-this.y,b-this.x),U(a));!isNaN(a)&&this.g!==a&&(this.g=a,this.Ea())},c.Kp=function(a,b){var c=Math.atan2(b-this.y,
a-this.x);!isNaN(c)&&this.g!==c&&(this.g=c,this.Ea())},h.Lo=function(a){a.C(xa(this.g))});l||(f.So=function(a,b,c){return Vb(this.ta[a],b,c)},f.cp=function(a){return this.ta[a]},f.tp=function(a,b){var c=this.X(),f=c.gc();if(!f.length)return t;var d=f[0],e=d,g=d.ta[b],h,l,q;h=1;for(l=f.length;h<l;h++)if(d=f[h],q=d.ta[b],0===a&&q<g||1===a&&q>g)g=q,e=d;c.gf(e);return m},f.rp=function(a){var b,c,f,d,e;if(this.b.Ym().Ne){e=this.X();if(e.aa){e.aa=t;e.c.length=0;e.S.length=0;f=this.c;b=0;for(c=f.length;b<
c;b++)d=f[b],d.uid===a?e.S.push(d):e.c.push(d)}else{f=b=0;for(c=e.c.length;b<c;b++)d=e.c[b],e.c[f]=d,d.uid===a?e.S.push(d):f++;e.c.length=f}return!!e.c.length}d=this.b.Uf(a);if(!d)return t;e=this.X();if(!e.aa&&-1===e.c.indexOf(d))return t;if(this.J){a=d.type.T;b=0;for(c=a.length;b<c;b++)if(a[b]===this)return e.gf(d),m}else if(d.type===this)return e.gf(d),m;return t},f.xl=Q(m),f.yl=Q(m),c.Fp=function(a,b){var c=this.ta;ba(c[a])?c[a]=ba(b)?b:parseFloat(b):S(c[a])&&(c[a]=S(b)?b:b.toString())},c.Ko=function(a,
b){var c=this.ta;ba(c[a])?c[a]=ba(b)?c[a]+b:c[a]+parseFloat(b):S(c[a])&&(c[a]=S(b)?c[a]+b:c[a]+b.toString())},c.Pp=function(a,b){var c=this.ta;ba(c[a])&&(c[a]=ba(b)?c[a]-b:c[a]-parseFloat(b))},c.Bp=function(a,b){this.ta[a]=b?1:0},c.Qp=function(a){this.ta[a]=1-this.ta[a]},c.Yo=function(){this.b.kd(this)},h.Xo=function(a){var b=a.ee.c.length,c,d,f;c=0;for(d=this.b.Zb.length;c<d;c++)f=this.b.Zb[c],a.ee.J?0<=f.type.T.indexOf(a.ee)&&b++:f.type===a.ee&&b++;a.W(b)},h.vp=function(a){a.W(a.ee.X().gc().length)},
h.Rp=function(a){a.W(this.uid)},h.$o=function(a){a.W(this.He())});a&&(f.hp=P("visible"),c.Lp=function(a){!a!==!this.visible&&(this.visible=a,this.b.V=m)},f.To=function(a,b){return Vb(Ua(100*this.opacity),a,b)},c.Gp=function(a){a/=100;0>a?a=0:1<a&&(a=1);a!==this.opacity&&(this.opacity=a,this.b.V=m)},h.Opacity=function(a){a.C(Ua(100*this.opacity))});b&&(f.ep=function(a){return!a?t:this.d===a},f.up=function(a){var b=this.X(),c=b.gc();if(!c.length)return t;var d=c[0],f=d,e,g;e=1;for(g=c.length;e<g;e++)if(d=
c[e],0===a){if(d.d.index>f.d.index||d.d.index===f.d.index&&d.hb()>f.hb())f=d}else if(d.d.index<f.d.index||d.d.index===f.d.index&&d.hb()<f.hb())f=d;b.gf(f);return m},c.op=function(){var a=this.hb();a!==this.d.c.length-1&&(qa(this.d.c,a),this.d.c.push(this),this.b.V=m,this.d.cb=m)},c.mp=function(){var a=this.hb();0!==a&&(qa(this.d.c,a),this.d.c.unshift(this),this.b.V=m,this.d.cb=m)},c.np=function(a){a&&a!=this.d&&(qa(this.d.c,this.hb()),this.d.cb=m,this.d=a,this.Jd=a.c.length,a.c.push(this),this.b.V=
m)},c.Up=function(a,b){var c=0===a;if(b){var d=b.$m(this);if(d&&d.uid!==this.uid){this.d.index!==d.d.index&&(qa(this.d.c,this.hb()),this.d.cb=m,this.d=d.d,this.Jd=d.d.c.length,d.d.c.push(this));var f=this.hb(),d=d.hb();qa(this.d.c,f);f<d&&d--;c&&d++;d===this.d.c.length?this.d.c.push(this):this.d.c.splice(d,0,this);this.d.cb=m;this.b.V=m}}},h.jp=function(a){a.W(this.d.pk)},h.ip=function(a){a.Ub(this.d.name)},h.Tp=function(a){a.W(this.hb())});d&&(c.Cp=function(a,b){if(this.b.D){var c=this.type.oh(b);
if(!(0>c)){var d=1===a;this.Hc[c]!==d&&(this.Hc[c]=d,this.Fc(),this.b.V=m)}}},c.Dp=function(a,b,c){if(this.b.D){var d=this.type.oh(a);0>d||(a=this.type.A[d],d=this.$[d],b=Math.floor(b),0>b||b>=d.length||(1===this.b.D.jn(a.Aa,b)&&(c/=100),d[b]!==c&&(d[b]=c,a.pc&&(this.b.V=m))))}})}function Pb(){this.Qg=m;this.b.V=m;var d,h;d=0;for(h=this.Cf.length;d<h;d++)this.Cf[d](this)}function Qb(d){d&&this.Cf.push(d)}
function Sb(){if(this.Qg){this.N.set(this.x,this.y,this.x+this.width,this.y+this.height);this.N.offset(-this.Sa*this.width,-this.Ta*this.height);this.g?(this.N.offset(-this.x,-this.y),this.pd.Xk(this.N,this.g),this.pd.offset(this.x,this.y),this.pd.fj(this.N)):this.pd.wi(this.N);var d=0;this.N.left>this.N.right&&(d=this.N.left,this.N.left=this.N.right,this.N.right=d);this.N.top>this.N.bottom&&(d=this.N.top,this.N.top=this.N.bottom,this.N.bottom=d);this.Qg=t}}
function Rb(d,h){return!this.N.Kc(d,h)||!this.pd.Kc(d,h)?t:this.Yb&&!this.Yb.Kn()?(this.Yb.Wl(this.width,this.height,this.g),this.Yb.Kc(d-this.x,h-this.y)):m}function Nb(){this.type.Ig();return this.Ke}function Tb(){this.d.Eo();return this.Jd}function Ub(){this.M.length=0;var d,h;d=0;for(h=this.Hc.length;d<h;d++)this.Hc[d]&&this.M.push(this.type.A[d]);this.ql=!!this.M.length}function Ob(){return"Inst"+this.Lk}
function yb(d){if(d&&d.Lb&&d.type!=this){var h,l,q;h=0;for(l=d.siblings.length;h<l;h++)if(q=d.siblings[h],q.type==this)return q}d=this.X().gc();return d.length?d[0]:p}function zb(d){var h=this.X().gc();return h.length?h[d.He()%h.length]:p}function xb(){if(this.cd&&!this.J){var d,h;d=0;for(h=this.c.length;d<h;d++)this.c[d].Ke=d;this.cd=t}}function Ab(){return this.ad[this.tc]}function Bb(){this.tc++;this.tc===this.ad.length?this.ad.push(new Wa(this)):this.ad[this.tc].aa=m}
function Cb(){this.tc++;this.tc===this.ad.length&&this.ad.push(new Wa(this));var d=this.ad[this.tc],h=this.ad[this.tc-1];h.aa?d.aa=m:(d.aa=t,ra(d.c,h.c))}function Db(){this.tc--}function Ib(d){var h,l,q,e,g,a=0;if(!this.J){h=0;for(l=this.T.length;h<l;h++){g=this.T[h];q=0;for(e=g.fa.length;q<e;q++){if(d===g.fa[q].name)return this.ba.Wj=a,g.fa[q];a++}}}h=0;for(l=this.fa.length;h<l;h++){if(d===this.fa[h].name)return this.ba.Wj=a,this.fa[h];a++}return p}
function Jb(d){return this.Rf(d)?this.ba.Wj:-1}function Kb(d){var h,l;h=0;for(l=this.A.length;h<l;h++)if(this.A[h].name===d)return h;return-1}
function Lb(){if(this.Lb&&!this.J){var d,h,l,q,e,g,a;this.Ig();g=this.X();var b=g.aa,f=(d=this.b.fb())&&d.Kb&&d.Kb.jc;d=0;for(h=this.La.length;d<h;d++)if(e=this.La[d],e!==this&&(e.Ig(),a=e.X(),a.aa=b,!b)){a.c.length=g.c.length;l=0;for(q=g.c.length;l<q;l++)a.c[l]=e.c[g.c[l].Ke];if(f){a.S.length=g.S.length;l=0;for(q=g.S.length;l<q;l++)a.S[l]=e.c[g.S[l].Ke]}}}}function Mb(){return"Type"+this.G}
function Vb(d,h,l){if("undefined"===typeof d||"undefined"===typeof l)return t;switch(h){case 0:return d===l;case 1:return d!==l;case 2:return d<l;case 3:return d<=l;case 4:return d>l;case 5:return d>=l;default:return t}}var ub={};function Wb(d){this.b=d}
(function(){function d(a){0>a&&(a=0);1<a&&(a=1);return 20*(Math.log(a)/Math.log(10))}function h(a){a=a.toLowerCase();return O.hasOwnProperty(a)&&O[a].length?O[a][0].gb():B.destination}function l(){return B.createGain?B.createGain():B.createGainNode()}function q(a){return B.createDelay?B.createDelay(a):B.createDelayNode(a)}function e(a){a.start?a.start(0):a.noteOn(0)}function g(a,b,c){a.start?a.start(0,b):a.noteGrainOn(0,b,c-b)}function a(a){a.stop?a.stop(0):a.noteOff(0)}function b(a,b,c,d,f,e){this.type=
"filter";this.Pb=[a,b,c,d,f,e];this.I=l();this.u=l();this.u.gain.value=e;this.r=l();this.r.gain.value=1-e;this.ha=B.createBiquadFilter();this.ha.type="number"===typeof this.ha.type?a:ac[a];this.ha.frequency.value=b;this.ha.detune&&(this.ha.detune.value=c);this.ha.Q.value=d;this.ha.gain.value=f;this.I.connect(this.ha);this.I.connect(this.r);this.ha.connect(this.u)}function f(a,b,c){this.type="delay";this.Pb=[a,b,c];this.I=l();this.u=l();this.u.gain.value=c;this.r=l();this.r.gain.value=1-c;this.Ze=
l();this.ob=q(a);this.ob.delayTime.value=a;this.Jf=l();this.Jf.gain.value=b;this.I.connect(this.Ze);this.I.connect(this.r);this.Ze.connect(this.u);this.Ze.connect(this.ob);this.ob.connect(this.Jf);this.Jf.connect(this.Ze)}function c(a,b,c,d){this.type="convolve";this.Pb=[b,c,d];this.I=l();this.u=l();this.u.gain.value=c;this.r=l();this.r.gain.value=1-c;this.qd=B.createConvolver();a&&(this.qd.normalize=b,this.qd.buffer=a);this.I.connect(this.qd);this.I.connect(this.r);this.qd.connect(this.u)}function k(a,
b,c,d,f){this.type="flanger";this.Pb=[a,b,c,d,f];this.I=l();this.r=l();this.r.gain.value=1-f/2;this.u=l();this.u.gain.value=f/2;this.Pf=l();this.Pf.gain.value=d;this.ob=q(a+b);this.ob.delayTime.value=a;this.va=B.createOscillator();this.va.frequency.value=c;this.Ya=l();this.Ya.gain.value=b;this.I.connect(this.ob);this.I.connect(this.r);this.ob.connect(this.u);this.ob.connect(this.Pf);this.Pf.connect(this.ob);this.va.connect(this.Ya);this.Ya.connect(this.ob.delayTime);e(this.va)}function n(a,b,c,d,
f,k){this.type="phaser";this.Pb=[a,b,c,d,f,k];this.I=l();this.r=l();this.r.gain.value=1-k/2;this.u=l();this.u.gain.value=k/2;this.ha=B.createBiquadFilter();this.ha.type="number"===typeof this.ha.type?7:"allpass";this.ha.frequency.value=a;this.ha.detune&&(this.ha.detune.value=b);this.ha.Q.value=c;this.va=B.createOscillator();this.va.frequency.value=f;this.Ya=l();this.Ya.gain.value=d;this.I.connect(this.ha);this.I.connect(this.r);this.ha.connect(this.u);this.va.connect(this.Ya);this.Ya.connect(this.ha.frequency);
e(this.va)}function r(a){this.type="gain";this.Pb=[a];this.L=l();this.L.gain.value=a}function w(a,b){this.type="tremolo";this.Pb=[a,b];this.L=l();this.L.gain.value=1-b/2;this.va=B.createOscillator();this.va.frequency.value=a;this.Ya=l();this.Ya.gain.value=b/2;this.va.connect(this.Ya);this.Ya.connect(this.L.gain);e(this.va)}function x(a,b){this.type="ringmod";this.Pb=[a,b];this.I=l();this.u=l();this.u.gain.value=b;this.r=l();this.r.gain.value=1-b;this.lf=l();this.lf.gain.value=0;this.va=B.createOscillator();
this.va.frequency.value=a;this.va.connect(this.lf.gain);e(this.va);this.I.connect(this.lf);this.I.connect(this.r);this.lf.connect(this.u)}function s(a,b,c,d,f){this.type="distortion";this.Pb=[a,b,c,d,f];this.I=l();this.wg=l();this.vg=l();this.to(c,Math.pow(10,d/20));this.u=l();this.u.gain.value=f;this.r=l();this.r.gain.value=1-f;this.Kg=B.createWaveShaper();this.Hf=new Float32Array(65536);this.Um(a,b);this.Kg.Hf=this.Hf;this.I.connect(this.wg);this.I.connect(this.r);this.wg.connect(this.Kg);this.Kg.connect(this.vg);
this.vg.connect(this.u)}function v(a,b,c,d,f){this.type="compressor";this.Pb=[a,b,c,d,f];this.L=B.createDynamicsCompressor();this.L.threshold.value=a;this.L.knee.value=b;this.L.ratio.value=c;this.L.attack.value=d;this.L.release.value=f}function A(a,b){this.type="analyser";this.Pb=[a,b];this.L=B.createAnalyser();this.L.fftSize=a;this.L.smoothingTimeConstant=b;this.Sm=new Float32Array(this.L.frequencyBinCount);this.Zk=new Uint8Array(a);this.lo=this.ff=0}function ma(){this.F=p;this.mg=0;this.bd=[];this.Sh=
this.hg=this.gg=0}function K(a,b){this.src=a;this.U=J;this.Se=b;this.aj=t;var c=this;this.kk=this.ai=p;this.ie=[];this.Ag=0;this.sg=t;J===C&&(b&&!u.dg)&&(this.U=F,this.ai=l());this.Y=p;var d;switch(this.U){case F:this.Y=new Audio;J===C&&this.Y.addEventListener("canplay",function(){c.kk=B.createMediaElementSource(c.Y);c.kk.connect(c.ai)});this.Y.autoplay=t;this.Y.mq="auto";this.Y.src=a;break;case C:d=new XMLHttpRequest;d.open("GET",a,m);d.responseType="arraybuffer";d.onload=function(){if(B.decodeAudioData)B.decodeAudioData(d.response,
function(a){c.Y=a;var b,d,f;if(aa(c.tg))aa(c.Ff)||(b=c.Ff.qd,b.normalize=c.ok,b.buffer=a);else if(c.ie.length){b=0;for(d=c.ie.length;b<d;b++){a=c.ie[b];f=new D(c,a.el);f.Vk(m);if("undefined"!==typeof a.qk&&(a.F=u.Uf(a.qk),!a.F))continue;if(a.F){var e=Ga(a.F.x,a.F.y,a.F.d.eb(),ya,za,m),k=Ga(a.F.x,a.F.y,a.F.d.eb(),ya,za,t);f.ti(e,k,ta(a.F.g+a.F.d.eb()),a.vh,a.Uh,a.Xh);f.mf(a.F)}else f.ti(a.x,a.y,a.Ll,a.vh,a.Uh,a.Xh);f.play(c.Ph,c.Ni,c.Ag);c.sg&&f.pause();N.push(f)}c.ie.length=0}else f=new D(c,c.tg),
f.play(c.Ph,c.Ni,c.Ag),c.sg&&f.pause(),N.push(f)});else if(c.Y=B.createBuffer(d.response,t),aa(c.tg)){if(!aa(c.Ff)){var a=c.Ff.qd;a.normalize=c.ok;a.buffer=c.Y}}else a=new D(c,c.tg),a.play(c.Ph,c.Ni,c.Ag),c.sg&&a.pause(),N.push(a)};d.send();break;case G:this.Y=m;break;case W:this.Y=m}}function D(a,b){var c=this;this.dd=b;this.Vb=this.Pc=m;this.src=a.src;this.buffer=a;this.U=J;this.Se=a.Se;this.playbackRate=1;this.ci=m;this.Qc=this.Cc=t;this.Rb=0;this.Fh=this.Eh=this.Ac=t;this.$e=this.volume=1;this.startTime=
u.Mb.jb;this.ca=this.Da=p;this.kc=t;this.ma=p;this.Ak=this.zk=this.yk=this.xk=this.Ck=this.Bk=0;this.e=p;var d=t;switch(this.U){case F:this.Se?(this.e=a.Y,d=!a.aj,a.aj=m):(this.e=new Audio,this.e.autoplay=t,this.e.src=a.Y.src,d=m);d&&this.e.addEventListener("ended",function(){E=c.dd;c.Vb=m;u.trigger(Wb.prototype.j.Lg,z)});break;case C:this.Da=l();this.Da.connect(h(b));this.buffer.U===C?a.Y&&(this.e=B.createBufferSource(),this.e.buffer=a.Y,this.e.connect(this.Da)):(this.e=this.buffer.Y,this.buffer.ai.connect(this.Da));
break;case G:this.e=new window.Media(I+this.src,p,p,function(a){a===window.Media.MEDIA_STOPPED&&(c.ci=m,c.Vb=m,E=c.dd,u.trigger(Wb.prototype.j.Lg,z))});break;case W:this.e=m}}function T(a,b){O.hasOwnProperty(a)?O[a].push(b):O[a]=[b];var c,d,f,e,k=B.destination;if(O.hasOwnProperty(a)&&(f=O[a],f.length)){k=f[0].gb();c=0;for(d=f.length;c<d;c++)e=f[c],c+1===d?e.mb(B.destination):e.mb(f[c+1].gb())}Aa.length=0;if(a.length){c=0;for(d=N.length;c<d;c++)f=N[c],a.toLowerCase()===f.dd.toLowerCase()&&Aa.push(f)}else cb&&
!cb.Je()&&(Aa.length=1,Aa[0]=cb);c=0;for(d=Aa.length;c<d;c++)Aa[c].io(k);ua&&db===a&&(ua.disconnect(),ua.connect(k))}function L(){}var H=Wb.prototype;H.Db=function(a){this.wa=a;this.b=a.b};H.Db.prototype.na=M();var u=p,z=p,E="",I="",F=0,C=1,G=2,W=3,J=F,B=p,ea=[],N=[],cb=p,Ta=0,Ha=t,na=1,ya=0,za=0,eb=1,fb=1,Eb=10,Fb=1E4,Gb=1,ua=p,db="",O={},ac="lowpass highpass bandpass lowshelf highshelf peaking notch allpass".split(" ");b.prototype.mb=function(a){this.u.disconnect();this.u.connect(a);this.r.disconnect();
this.r.connect(a)};b.prototype.remove=function(){this.I.disconnect();this.ha.disconnect();this.u.disconnect();this.r.disconnect()};b.prototype.gb=P("I");f.prototype.mb=function(a){this.u.disconnect();this.u.connect(a);this.r.disconnect();this.r.connect(a)};f.prototype.remove=function(){this.I.disconnect();this.Ze.disconnect();this.ob.disconnect();this.Jf.disconnect();this.u.disconnect();this.r.disconnect()};f.prototype.gb=P("I");c.prototype.mb=function(a){this.u.disconnect();this.u.connect(a);this.r.disconnect();
this.r.connect(a)};c.prototype.remove=function(){this.I.disconnect();this.qd.disconnect();this.u.disconnect();this.r.disconnect()};c.prototype.gb=P("I");k.prototype.mb=function(a){this.r.disconnect();this.r.connect(a);this.u.disconnect();this.u.connect(a)};k.prototype.remove=function(){this.I.disconnect();this.ob.disconnect();this.va.disconnect();this.Ya.disconnect();this.r.disconnect();this.u.disconnect();this.Pf.disconnect()};k.prototype.gb=P("I");n.prototype.mb=function(a){this.r.disconnect();
this.r.connect(a);this.u.disconnect();this.u.connect(a)};n.prototype.remove=function(){this.I.disconnect();this.ha.disconnect();this.va.disconnect();this.Ya.disconnect();this.r.disconnect();this.u.disconnect()};n.prototype.gb=P("I");r.prototype.mb=function(a){this.L.disconnect();this.L.connect(a)};r.prototype.remove=function(){this.L.disconnect()};r.prototype.gb=P("L");w.prototype.mb=function(a){this.L.disconnect();this.L.connect(a)};w.prototype.remove=function(){this.va.disconnect();this.Ya.disconnect();
this.L.disconnect()};w.prototype.gb=P("L");x.prototype.mb=function(a){this.u.disconnect();this.u.connect(a);this.r.disconnect();this.r.connect(a)};x.prototype.remove=function(){this.va.disconnect();this.lf.disconnect();this.I.disconnect();this.u.disconnect();this.r.disconnect()};x.prototype.gb=P("I");s.prototype.to=function(a,b){0.01>a&&(a=0.01);this.wg.gain.value=a;this.vg.gain.value=Math.pow(1/a,0.6)*b};s.prototype.shape=function(a,b,c){var d=1.05*c*b-b;c=0>a?-1:1;a=0>a?-a:a;b=a<b?a:b+d*(1-Math.exp(-(1/
d)*(a-b)));return b*c};s.prototype.Um=function(a,b){for(var c=Math.pow(10,a/20),d=Math.pow(10,b/20),f=0,e=0;32768>e;++e)f=e/32768,f=this.shape(f,c,d),this.Hf[32768+e]=f,this.Hf[32768-e-1]=-f};s.prototype.mb=function(a){this.u.disconnect();this.u.connect(a);this.r.disconnect();this.r.connect(a)};s.prototype.remove=function(){this.I.disconnect();this.wg.disconnect();this.Kg.disconnect();this.vg.disconnect();this.u.disconnect();this.r.disconnect()};s.prototype.gb=P("I");v.prototype.mb=function(a){this.L.disconnect();
this.L.connect(a)};v.prototype.remove=function(){this.L.disconnect()};v.prototype.gb=P("L");A.prototype.Na=function(){this.L.getFloatFrequencyData(this.Sm);this.L.getByteTimeDomainData(this.Zk);for(var a=this.L.fftSize,b=0,c=this.ff=0,f=0;b<a;b++)f=(this.Zk[b]-128)/128,0>f&&(f=-f),this.ff<f&&(this.ff=f),c+=f*f;this.ff=d(this.ff);this.lo=d(Math.sqrt(c/a))};A.prototype.mb=function(a){this.L.disconnect();this.L.connect(a)};A.prototype.remove=function(){this.L.disconnect()};A.prototype.gb=P("L");ma.prototype.mf=
function(a){if(this.F=a)this.gg=this.F.x,this.hg=this.F.y;this.bd.length=0};ma.prototype.Xf=function(){return!!this.F};ma.prototype.Na=function(a){this.F&&(this.Sh=Ca(this.gg,this.hg,this.F.x,this.F.y),a=Ja(this.gg,this.hg,this.F.x,this.F.y)/a,4>this.bd.length||this.bd.shift(),this.bd.push(a),this.gg=this.F.x,this.hg=this.F.y)};ma.prototype.Gj=function(){if(!this.bd.length)return 0;var a,b,c=0;a=0;for(b=this.bd.length;a<b;a++)c+=this.bd[a];return c/this.bd.length};ma.prototype.Hj=function(){return Math.cos(this.Sh)*
this.Gj()};ma.prototype.Ij=function(){return Math.sin(this.Sh)*this.Gj()};var Hb=t;D.prototype.Je=function(){switch(this.U){case F:return this.e.ended;case C:return this.buffer.U===C?!this.Pc&&!this.Vb&&this.e.loop||this.Qc?t:u.Mb.jb-this.startTime>this.buffer.Y.duration:this.e.ended;case G:return this.ci;case W:m}return m};D.prototype.Xl=function(){return this.Pc||this.Vb?m:this.Je()};D.prototype.Vk=function(a){J===C&&(!this.kc&&a?(this.ca||(this.ca=B.createPanner(),this.ca.panningModel="number"===
typeof this.ca.panningModel?eb:["equalpower","HRTF","soundfield"][eb],this.ca.distanceModel="number"===typeof this.ca.distanceModel?fb:["linear","inverse","exponential"][fb],this.ca.refDistance=Eb,this.ca.maxDistance=Fb,this.ca.rolloffFactor=Gb),this.Da.disconnect(),this.Da.connect(this.ca),this.ca.connect(h(this.dd)),this.kc=m):this.kc&&!a&&(this.ca.disconnect(),this.Da.disconnect(),this.Da.connect(h(this.dd)),this.kc=t))};D.prototype.ti=function(a,b,c,d,f,e){this.kc&&J===C&&(this.ca.setPosition(a,
b,0),this.ca.setOrientation(Math.cos(U(c)),Math.sin(U(c)),0),this.ca.coneInnerAngle=d,this.ca.coneOuterAngle=f,this.ca.coneOuterGain=e,this.Bk=a,this.Ck=b,this.xk=c,this.yk=d,this.zk=f,this.Ak=e)};D.prototype.mf=function(a){this.kc&&J===C&&(this.ma||(this.ma=new ma),this.ma.mf(a))};D.prototype.Na=function(a){if(this.kc&&!(J!==C||!this.ma||!this.ma.Xf()||!this.Td())){this.ma.Na(a);a=this.ma.F;var b=Ga(a.x,a.y,a.d.eb(),ya,za,m),c=Ga(a.x,a.y,a.d.eb(),ya,za,t);this.ca.setPosition(b,c,0);b=0;"undefined"!==
typeof this.ma.F.g&&(b=a.g+a.d.eb(),this.ca.setOrientation(Math.cos(b),Math.sin(b),0));this.ca.setVelocity(this.ma.Hj(),this.ma.Ij(),0)}};D.prototype.play=function(a,b,c){var d=this.e;this.Ac=a;this.volume=b;c=c||0;switch(this.U){case F:1!==d.playbackRate&&(d.playbackRate=1);d.volume!==b*na&&(d.volume=b*na);d.loop!==a&&(d.loop=a);d.muted&&(d.muted=t);if(d.currentTime!==c)try{d.currentTime=c}catch(f){}this.e.play();break;case C:this.muted=t;this.$e=1;if(this.buffer.U===C)this.Pc||(this.e=B.createBufferSource(),
this.e.buffer=this.buffer.Y,this.e.connect(this.Da)),this.e.loop=a,this.Da.gain.value=b*na,0===c?e(this.e):g(this.e,c,this.Pd());else{1!==d.playbackRate&&(d.playbackRate=1);d.loop!==a&&(d.loop=a);this.Da.gain.value=b*na;if(d.currentTime!==c)try{d.currentTime=c}catch(k){}d.play()}break;case G:(!this.Pc&&this.Vb||0!==c)&&d.seekTo(c);d.play();this.ci=t;break;case W:u.sb?AppMobi.context.playSound(this.src):AppMobi.player.playSound(this.src)}this.playbackRate=1;this.startTime=u.Mb.jb-c;this.Qc=this.Vb=
this.Pc=t};D.prototype.stop=function(){switch(this.U){case F:this.e.paused||this.e.pause();break;case C:this.buffer.U===C?a(this.e):this.e.paused||this.e.pause();break;case G:this.e.stop()}this.Vb=m;this.Qc=t};D.prototype.pause=function(){if(!this.Pc&&!this.Vb&&!this.Je()&&!this.Qc){switch(this.U){case F:this.e.paused||this.e.pause();break;case C:this.buffer.U===C?(this.Rb=this.rh(),this.Ac&&(this.Rb%=this.Pd()),a(this.e)):this.e.paused||this.e.pause();break;case G:this.e.pause()}this.Qc=m}};D.prototype.io=
function(a){this.U===C&&(this.kc?(this.ca.disconnect(),this.ca.connect(a)):(this.Da.disconnect(),this.Da.connect(a)))};D.prototype.Pd=function(){switch(this.U){case F:if("undefined"!==typeof this.e.duration)return this.e.duration;break;case C:return this.buffer.Y.duration;case G:return this.e.getDuration()}return 0};D.prototype.rh=function(){var a=this.Pd(),b=0;switch(this.U){case F:"undefined"!==typeof this.e.currentTime&&(b=this.e.currentTime);break;case C:if(this.buffer.U===C){if(this.Qc)return this.Rb;
b=u.Mb.jb-this.startTime}else"undefined"!==typeof this.e.currentTime&&(b=this.e.currentTime)}!this.Ac&&b>a&&(b=a);return b};D.prototype.Td=function(){return!this.Qc&&!this.Pc&&!this.Vb&&!this.Je()};D.prototype.Do=function(){var a=this.volume*na;switch(this.U){case F:this.e.volume&&this.e.volume!==a&&(this.e.volume=a);break;case C:this.Da.gain.value=a*this.$e}};D.prototype.tj=function(a){switch(this.U){case F:this.e.muted!==!!a&&(this.e.muted=!!a);break;case C:this.$e=a?0:1,this.Da.gain.value=na*this.volume*
this.$e}};D.prototype.Wk=function(a){this.Fh=!!a;this.tj(this.Eh||this.Fh)};D.prototype.pl=function(){var a=this.playbackRate;if(1===Ta&&!this.Se||2===Ta)a*=u.Hd;switch(this.U){case F:this.e.playbackRate!==a&&(this.e.playbackRate=a);break;case C:this.buffer.U===C?this.e.playbackRate.value!==a&&(this.e.playbackRate.value=a):this.e.playbackRate!==a&&(this.e.playbackRate=a)}};D.prototype.uo=function(b){switch(this.U){case F:b?this.Td()?(this.e.pause(),this.Cc=m):this.Cc=t:this.Cc&&this.e.play();break;
case C:b?this.Td()?(this.buffer.U===C?(this.Rb=this.rh(),this.Ac&&(this.Rb%=this.Pd()),a(this.e)):this.e.pause(),this.Cc=m):this.Cc=t:this.Cc&&(this.buffer.U===C?(this.e=B.createBufferSource(),this.e.buffer=this.buffer.Y,this.e.connect(this.Da),this.e.loop=this.Ac,this.Da.gain.value=na*this.volume*this.$e,this.startTime=u.Mb.jb-this.Rb,g(this.e,this.Rb,this.Pd())):this.e.play());break;case G:b?this.Td()?(this.e.pause(),this.Cc=m):this.Cc=t:this.Cc&&this.e.play()}};H.Oa=function(a){this.type=a;u=this.b=
a.b;z=this;this.Ga=p;this.Xe=-600;B=p;"undefined"!==typeof AudioContext?(J=C,B=new AudioContext):"undefined"!==typeof webkitAudioContext&&(J=C,B=new webkitAudioContext);this.b.dg&&J===C&&document.addEventListener("touchstart",function(){if(!Hb){var a=B.createBuffer(1,1,22050),b=B.createBufferSource();b.buffer=a;b.connect(B.destination);e(b);Hb=m}},m);J!==C&&(this.b.Bd?J=G:this.b.Rd&&(J=W));J===G&&(I=location.href,a=I.lastIndexOf("/"),-1<a&&(I=I.substr(0,a+1)),I=I.replace("file://",""));if(this.b.Fn&&
this.b.Tj&&"undefined"===typeof Audio)alert("It looks like you're using Safari for Windows without Quicktime.  Audio cannot be played until Quicktime is installed."),this.b.kd(this);else{if(!this.b.sb)try{new Audio}catch(b){}this.b.gl(this)}};var oa=H.Oa.prototype;oa.na=function(){Ta=this.za[0];eb=this.za[1];fb=this.za[2];this.Xe=-this.za[3];Eb=this.za[4];Fb=this.za[5];Gb=this.za[6];this.Ga=new ma;J===C&&(B.listener.speedOfSound=this.za[7],B.listener.dopplerFactor=this.za[8],B.listener.setPosition(this.b.width/
2,this.b.height/2,this.Xe),B.listener.setOrientation(0,0,1,0,-1,0),window.c2OnAudioMicStream=function(a,b){ua&&ua.disconnect();db=b.toLowerCase();ua=B.createMediaStreamSource(a);ua.connect(h(db))});this.b.$i(function(a){z.Yn(a)});var a=this;this.b.Pl(function(b){a.Rn(b)})};oa.Rn=function(a){var b,c,d;b=0;for(c=N.length;b<c;b++)d=N[b],d.ma&&d.ma.F===a&&(d.ma.F=p,d.kc&&(d.Td()&&d.Ac)&&d.stop());this.Ga.F===a&&(this.Ga.F=p)};oa.Sb=function(){var a={silent:Ha,masterVolume:na,listenerZ:this.Xe,listenerUid:this.Ga.Xf()?
this.Ga.F.uid:-1,playing:[],effects:{}},b=a.playing,c,d,f,e,k,g;c=0;for(d=N.length;c<d;c++)f=N[c],f.Td()&&(e=f.rh(),f.Ac&&(e%=f.Pd()),e={tag:f.dd,buffersrc:f.buffer.src,is_music:f.Se,playbackTime:e,volume:f.volume,looping:f.Ac,muted:f.Eh,playbackRate:f.playbackRate,paused:f.Qc,resume_position:f.Rb},f.kc&&(e.pan={},g=e.pan,f.ma&&f.ma.Xf()?g.objUid=f.ma.F.uid:(g.x=f.Bk,g.y=f.Ck,g.a=f.xk),g.ia=f.yk,g.oa=f.zk,g.og=f.Ak),b.push(e));b=a.effects;for(k in O)if(O.hasOwnProperty(k)){f=[];c=0;for(d=O[k].length;c<
d;c++)f.push({type:O[k][c].type,params:O[k][c].Pb});b[k]=f}return a};var Ia=[];oa.zc=function(a){var d=a.silent;na=a.masterVolume;this.Xe=a.listenerZ;this.Ga.mf(p);var e=a.listenerUid;-1!==e&&(this.Ga.mg=e,Ia.push(this.Ga));var e=a.playing,g,h,l,q,u,D,K,B,z,y,C;g=0;for(h=N.length;g<h;g++)N[g].stop();for(u in O)if(O.hasOwnProperty(u)){g=0;for(h=O[u].length;g<h;g++)O[u][g].remove()}Ma(O);for(u in a.effects)if(a.effects.hasOwnProperty(u)){D=a.effects[u];g=0;for(h=D.length;g<h;g++)switch(l=D[g].type,
y=D[g].params,l){case "filter":T(u,new b(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "delay":T(u,new f(y[0],y[1],y[2]));break;case "convolve":l=y[2];q=this.lh(l,t);q.Y?l=new c(q.Y,y[0],y[1],l):(l=new c(p,y[0],y[1],l),q.ok=y[0],q.Ff=l);T(u,l);break;case "flanger":T(u,new k(y[0],y[1],y[2],y[3],y[4]));break;case "phaser":T(u,new n(y[0],y[1],y[2],y[3],y[4],y[5]));break;case "gain":T(u,new r(y[0]));break;case "tremolo":T(u,new w(y[0],y[1]));break;case "ringmod":T(u,new x(y[0],y[1]));break;case "distortion":T(u,
new s(y[0],y[1],y[2],y[3],y[4]));break;case "compressor":T(u,new v(y[0],y[1],y[2],y[3],y[4]));break;case "analyser":T(u,new A(y[0],y[1]))}}g=0;for(h=e.length;g<h;g++)a=e[g],l=a.buffersrc,q=a.is_music,u=a.tag,D=a.playbackTime,K=a.looping,B=a.volume,C=(y=a.pan)&&y.hasOwnProperty("objUid")?y.objUid:-1,(z=this.Wm(l,u,q,K,B))?(z.Rb=a.resume_position,z.Vk(!!y),z.play(K,B,D),z.pl(),z.Do(),z.tj(z.Eh||z.Fh),a.paused&&z.pause(),a.muted&&z.jq(),y&&(-1!==C?(z.ma=z.ma||new ma,z.ma.mg=C,Ia.push(z.ma)):z.ti(y.x,
y.y,y.a,y.ia,y.oa,y.og))):(q=this.lh(l,q),q.Ag=D,q.sg=a.paused,y&&(-1!==C?q.ie.push({qk:C,vh:y.ia,Uh:y.oa,Xh:y.og,el:u}):q.ie.push({x:y.x,y:y.y,Ll:y.a,vh:y.ia,Uh:y.oa,Xh:y.og,el:u})));if(d&&!Ha){g=0;for(h=N.length;g<h;g++)N[g].Wk(m);Ha=m}else if(!d&&Ha){g=0;for(h=N.length;g<h;g++)N[g].Wk(t);Ha=t}};oa.Af=function(){var a,b,c,d;a=0;for(b=Ia.length;a<b;a++)c=Ia[a],d=this.b.Uf(c.mg),c.mf(d),c.mg=-1,d&&(ya=d.x,za=d.y);Ia.length=0};oa.Yn=function(a){var b,c;b=0;for(c=N.length;b<c;b++)N[b].uo(a)};oa.Na=
function(){var a=this.b.ud,b,c,d;b=0;for(c=N.length;b<c;b++)d=N[b],d.Na(a),d.U!==F&&d.U!==W&&(!d.Pc&&!d.Vb&&d.Je())&&(d.Vb=m,E=d.dd,u.trigger(Wb.prototype.j.Lg,z)),0!==Ta&&d.pl();var f,e;for(f in O)if(O.hasOwnProperty(f)){d=O[f];b=0;for(c=d.length;b<c;b++)e=d[b],e.Na&&e.Na()}J===C&&this.Ga.Xf()&&(this.Ga.Na(a),ya=this.Ga.F.x,za=this.Ga.F.y,B.listener.setPosition(this.Ga.F.x,this.Ga.F.y,this.Xe),B.listener.setVelocity(this.Ga.Hj(),this.Ga.Ij(),0))};oa.lh=function(a,b){var c,d,f;c=0;for(d=ea.length;c<
d;c++)if(f=ea[c],f.src===a)return f;f=new K(a,b);ea.push(f);return f};oa.Wm=function(a,b,c,d,f){var e,k,g;e=0;for(k=N.length;e<k;e++)if(g=N[e],g.src===a&&(g.Xl()||c))return g.dd=b,g;a=this.lh(a,c);if(!a.Y)return"<preload>"!==b&&(a.tg=b,a.Ph=d,a.Ni=f),p;g=new D(a,b);N.push(g);return g};var Aa=[];L.prototype.Lg=function(a){return E.toLowerCase()===a.toLowerCase()};H.j=new L;H.ld=new (M());H.Oc=new (M())})();function Xb(d){this.b=d}
(function(){function d(){}var h=Xb.prototype;h.Db=function(d){this.wa=d;this.b=d.b};h.Db.prototype.na=M();h.Oa=function(d){this.type=d;this.b=d.b};h.Oa.prototype.na=function(){var d=this;window.addEventListener("resize",function(){d.b.trigger(Xb.prototype.j.Hl,d)});"undefined"!==typeof navigator.onLine&&(window.addEventListener("online",function(){d.b.trigger(Xb.prototype.j.El,d)}),window.addEventListener("offline",function(){d.b.trigger(Xb.prototype.j.Dl,d)}));"undefined"!==typeof window.applicationCache&&
(window.applicationCache.addEventListener("updateready",function(){d.b.Yd=1;d.b.trigger(Xb.prototype.j.Vi,d)}),window.applicationCache.addEventListener("progress",function(h){d.b.Yd=h.loaded/h.total}));this.b.sb||(document.addEventListener("appMobi.device.update.available",function(){d.b.trigger(Xb.prototype.j.Vi,d)}),document.addEventListener("menubutton",function(){d.b.trigger(Xb.prototype.j.Cl,d)}),document.addEventListener("searchbutton",function(){d.b.trigger(Xb.prototype.j.Il,d)}));this.b.$i(function(h){h?
d.b.trigger(Xb.prototype.j.Fl,d):d.b.trigger(Xb.prototype.j.Gl,d)});this.cq="undefined"!==typeof window.is_scirra_arcade;this.Xp=""};d.prototype.El=Q(m);d.prototype.Dl=Q(m);d.prototype.Vi=Q(m);d.prototype.Gl=Q(m);d.prototype.Fl=Q(m);d.prototype.Hl=Q(m);d.prototype.Cl=Q(m);d.prototype.Il=Q(m);h.j=new d;h.ld=new (M());h.Oc=new (M())})();function Yb(d){this.b=d}
(function(){function d(){if(0===this.ah.length){var a=document.createElement("canvas");a.width=this.width;a.height=this.height;var b=a.getContext("2d");this.me?b.drawImage(this.Ia,this.ge,this.he,this.width,this.height,0,0,this.width,this.height):b.drawImage(this.Ia,0,0,this.width,this.height);this.ah=a.toDataURL("image/png")}return this.ah}function h(){}var l=Yb.prototype;l.Db=function(a){this.wa=a;this.b=a.b};var q=l.Db.prototype;q.na=function(){if(!this.J){var a,b,e,g,h,l,q,s,v;this.Fb=[];this.Yf=
t;a=0;for(b=this.Pa.length;a<b;a++){h=this.Pa[a];q={};q.name=h[0];q.speed=h[1];q.loop=h[2];q.ni=h[3];q.zg=h[4];q.Dk=h[5];q.G=h[6];q.frames=[];e=0;for(g=h[7].length;e<g;e++)l=h[7][e],s={},s.cl=l[0],s.dl=l[1],s.ge=l[2],s.he=l[3],s.width=l[4],s.height=l[5],s.duration=l[6],s.Sa=l[7],s.Ta=l[8],s.wh=l[9],s.ug=l[10],s.Ek=l[11],s.me=0!==s.width,s.ah="",s.$p=d,v={left:0,top:0,right:1,bottom:1},s.yi=v,s.jd=p,(v=this.b.Rm(l[0]))?s.Ia=v:(s.Ia=new Image,s.Ia.src=l[0],s.Ia.$l=l[0],s.Ia.Zl=l[1],s.Ia.Vl=p,this.b.hd.push(s.Ia)),
q.frames.push(s),this.Fb.push(s);this.Pa[a]=q}}};q.Co=function(){var a,b,d;a=0;for(b=this.c.length;a<b;a++)d=this.c[a],d.Gf=d.nb.jd};q.rk=function(){if(!this.J){var a,b,d;a=0;for(b=this.Fb.length;a<b;++a)d=this.Fb[a],d.Ia.Vl=p,d.jd=p}};q.tk=function(){if(!this.J&&this.c.length){var a,b,d;a=0;for(b=this.Fb.length;a<b;++a)d=this.Fb[a],d.jd=this.b.D.fk(d.Ia,this.b.la,d.Ek);this.Co()}};q.Nn=function(){if(!this.J&&!this.Yf&&this.b.D){var a,b,d;a=0;for(b=this.Fb.length;a<b;++a)d=this.Fb[a],d.jd=this.b.D.fk(d.Ia,
this.b.la,d.Ek);this.Yf=m}};q.nl=function(){if(!this.J&&!this.c.length&&this.Yf){var a,b,d;a=0;for(b=this.Fb.length;a<b;++a)d=this.Fb[a],this.b.D.deleteTexture(d.jd);this.Yf=t}};var e=[];q.Hk=function(a){var b,d,g;b=e.length=0;for(d=this.Fb.length;b<d;++b)g=this.Fb[b].Ia,-1===e.indexOf(g)&&(a.drawImage(g,0,0),e.push(g))};l.Oa=function(a){this.type=a;this.b=a.b;a=this.type.Pa[0].frames[0].ug;this.Bc?this.Yb.of(a):this.Yb=new Qa(a)};var g=l.Oa.prototype;g.na=function(){this.visible=0===this.za[0];this.Lj=
this.Gn=t;this.Ef=0!==this.za[3];!(1===this.type.Pa.length&&1===this.type.Pa[0].frames.length)&&0!==this.type.Pa[0].speed&&(this.b.gl(this),this.Gn=m);this.Z=this.Bj(this.za[1])||this.type.Pa[0];this.k=this.za[2];0>this.k&&(this.k=0);this.k>=this.Z.frames.length&&(this.k=this.Z.frames.length-1);var a=this.Z.frames[this.k];this.Yb.of(a.ug);this.Sa=a.Sa;this.Ta=a.Ta;this.ye=this.Z.speed;this.uc=this.Tf();this.nd=m;this.qc=0;this.md=m;this.Tg=this.bj="";this.Yl=0;this.Sg=-1;this.type.Nn();var b,d,e,
g,h,l,s,a=0;for(b=this.type.Pa.length;a<b;a++){g=this.type.Pa[a];d=0;for(e=g.frames.length;d<e;d++)h=g.frames[d],0===h.width&&(h.width=h.Ia.width,h.height=h.Ia.height),h.me&&(s=h.Ia,l=h.yi,l.left=h.ge/s.width,l.top=h.he/s.height,l.right=(h.ge+h.width)/s.width,l.bottom=(h.he+h.height)/s.height,0===h.ge&&(0===h.he&&h.width===s.width&&h.height===s.height)&&(h.me=t))}this.nb=this.Z.frames[this.k];this.Gf=this.nb.jd};g.Sb=function(){var a={a:this.Z.G,f:this.k,cas:this.ye,fs:this.uc,ar:this.qc};this.nd||
(a.ap=this.nd);this.md||(a.af=this.md);return a};g.zc=function(a){var b=this.Vm(a.a);b&&(this.Z=b);this.k=a.f;0>this.k&&(this.k=0);this.k>=this.Z.frames.length&&(this.k=this.Z.frames.length-1);this.ye=a.cas;this.uc=a.fs;this.qc=a.ar;this.nd=a.hasOwnProperty("ap")?a.ap:m;this.md=a.hasOwnProperty("af")?a.af:m;this.nb=this.Z.frames[this.k];this.Gf=this.nb.jd;this.Yb.of(this.nb.ug);this.Sa=this.nb.Sa;this.Ta=this.nb.Ta};g.Pg=function(a){this.k=a?0:this.Z.frames.length-1;this.nd=t;this.bj=this.Z.name;
this.Lj=m;this.b.trigger(Yb.prototype.j.ul,this);this.b.trigger(Yb.prototype.j.tl,this);this.Lj=t;this.qc=0};g.Tf=function(){return(Date.now()-this.b.qf)/1E3};g.Na=function(){this.Tg.length&&this.dm();0<=this.Sg&&this.em();var a=this.Tf(),b=this.Z,d=b.frames[this.k],e=d.duration/this.ye,g=this.b.Hd;-1!==this.Dd&&(g=this.Dd);e/=0===g?1E-9:g;if(this.nd&&a>=this.uc+e){this.md?this.k++:this.k--;this.uc+=e;this.k>=b.frames.length&&(b.Dk?(this.md=t,this.k=b.frames.length-2):b.loop?this.k=b.zg:(this.qc++,
this.qc>=b.ni?this.Pg(t):this.k=b.zg));0>this.k&&(b.Dk?(this.k=1,this.md=m,b.loop||(this.qc++,this.qc>=b.ni&&this.Pg(m))):b.loop?this.k=b.zg:(this.qc++,this.qc>=b.ni?this.Pg(m):this.k=b.zg));0>this.k?this.k=0:this.k>=b.frames.length&&(this.k=b.frames.length-1);if(a>this.uc+b.frames[this.k].duration/this.ye/(0===g?1E-9:g))this.uc=a;a=b.frames[this.k];this.se(d,a);this.b.V=m}};g.Bj=function(a){var b,d,e=a.toLowerCase();a=0;for(b=this.type.Pa.length;a<b;a++)if(d=this.type.Pa[a],d.name.toLowerCase()===
e)return d;return p};g.Vm=function(a){var b,d,e;b=0;for(d=this.type.Pa.length;b<d;b++)if(e=this.type.Pa[b],e.G===a)return e;return p};g.dm=function(){var a=this.Z.frames[this.k],b=this.Bj(this.Tg);this.Tg="";b&&!(b.name.toLowerCase()===this.Z.name.toLowerCase()&&this.nd)&&(this.Z=b,this.ye=b.speed,0>this.k&&(this.k=0),this.k>=this.Z.frames.length&&(this.k=this.Z.frames.length-1),1===this.Yl&&(this.k=0),this.nd=m,this.uc=this.Tf(),this.md=m,this.se(a,this.Z.frames[this.k]),this.b.V=m)};g.em=function(){var a=
this.Z.frames[this.k],b=this.k;this.k=ia(this.Sg);0>this.k&&(this.k=0);this.k>=this.Z.frames.length&&(this.k=this.Z.frames.length-1);b!==this.k&&(this.se(a,this.Z.frames[this.k]),this.uc=this.Tf(),this.b.V=m);this.Sg=-1};g.se=function(a,b){var d=a.width,e=a.height,g=b.width,h=b.height;d!=g&&(this.width*=g/d);e!=h&&(this.height*=h/e);this.Sa=b.Sa;this.Ta=b.Ta;this.Yb.of(b.ug);this.Ea();this.nb=b;this.Gf=b.jd;d=0;for(e=this.H.length;d<e;d++)g=this.H[d],g.Xn&&g.Xn(a,b);this.b.trigger(Yb.prototype.j.se,
this)};g.td=function(a){a.globalAlpha=this.opacity;var b=this.nb,d=b.me,e=b.Ia,g=this.x,h=this.y,l=this.width,s=this.height;if(0===this.g&&0<=l&&0<=s)g-=this.Sa*l,h-=this.Ta*s,this.b.je&&(g=g+0.5|0,h=h+0.5|0),d?a.drawImage(e,b.ge,b.he,b.width,b.height,g,h,l,s):a.drawImage(e,g,h,l,s);else{this.b.je&&(g=g+0.5|0,h=h+0.5|0);a.save();var q=0<l?1:-1,A=0<s?1:-1;a.translate(g,h);(1!==q||1!==A)&&a.scale(q,A);a.rotate(this.g*q*A);g=0-this.Sa*da(l);h=0-this.Ta*da(s);d?a.drawImage(e,b.ge,b.he,b.width,b.height,
g,h,da(l),da(s)):a.drawImage(e,g,h,da(l),da(s));a.restore()}};g.cc=function(a){a.Tb(this.Gf);a.nf(this.opacity);var b=this.nb,d=this.pd;if(this.b.je){var e=(this.x+0.5|0)-this.x,g=(this.y+0.5|0)-this.y;b.me?a.Fd(d.$a+e,d.ab+g,d.Wb+e,d.Xb+g,d.Ib+e,d.Jb+g,d.Gb+e,d.Hb+g,b.yi):a.yg(d.$a+e,d.ab+g,d.Wb+e,d.Xb+g,d.Ib+e,d.Jb+g,d.Gb+e,d.Hb+g)}else b.me?a.Fd(d.$a,d.ab,d.Wb,d.Xb,d.Ib,d.Jb,d.Gb,d.Hb,b.yi):a.yg(d.$a,d.ab,d.Wb,d.Xb,d.Ib,d.Jb,d.Gb,d.Hb)};g.bn=function(a){var b=this.nb,d,e;d=0;for(e=b.wh.length;d<
e;d++)if(a.toLowerCase()===b.wh[d][0].toLowerCase())return d;return-1};g.ph=function(a,b){var d=this.nb,e=d.wh,g;g=S(a)?this.bn(a):a-1;g=ia(g);if(0>g||g>=e.length)return b?this.x:this.y;var h=(e[g][1]-d.Sa)*this.width,e=e[g][2],e=(e-d.Ta)*this.height,d=Math.cos(this.g);g=Math.sin(this.g);var l=h*d-e*g,e=e*d+h*g,h=l+this.x,e=e+this.y;return b?h:e};var a=new Na,b=t;q.finish=function(d){if(b){if(d){var c=this.b.fb().Kb.jc;d=p.X();var e=a.vf(),g,h;if(d.aa){d.aa=t;d.c.length=e.length;g=0;for(h=e.length;g<
h;g++)d.c[g]=e[g];if(c){g=d.S.length=0;for(h=p.c.length;g<h;g++)c=p.c[g],a.contains(c)||d.S.push(c)}}else{var l=d.c.length;d.c.length=l+e.length;g=0;for(h=e.length;g<h;g++)d.c[l+g]=e[g],c&&sa(d.S,e[g])}p.te()}a.clear();b=t}};h.prototype.tl=function(a){return this.bj.toLowerCase()===a.toLowerCase()};h.prototype.ul=Q(m);h.prototype.se=Q(m);l.j=new h;l.ld=new (M());l.Oc=new (M())})();function Zb(d){this.b=d}
(function(){function d(a){b=a.x;f=a.y;c=a.rl}function h(a){k=a.x;n=a.y;r=a.rl}function l(){}function q(){}var e=Zb.prototype;e.Db=function(a){this.wa=a;this.b=a.b};e.Db.prototype.na=M();e.Oa=function(a){this.type=a;this.b=a.b;this.touches=[];this.Rh=t};var g=e.Oa.prototype,a={left:0,top:0};g.Ce=function(a){var b,c;b=0;for(c=this.touches.length;b<c;b++)if(this.touches[b].id===a)return b;return-1};var b=0,f=0,c=0,k=0,n=0,r=0;g.na=function(){this.Hn=!!("undefined"!==typeof window.c2isWindows8&&window.c2isWindows8);
this.Gg=this.fd=this.Zg=this.Yg=this.Yi=this.Xi=this.Wi=this.Ol=this.Nl=this.Ml=this.ef=this.df=this.cf=0;this.Go=0!==this.za[0];var a=0<this.b.pb?document:this.b.canvas,b=document;this.b.sb?b=a=window.Canvas:this.b.ic&&(b=a=window);var c=this;window.navigator.msPointerEnabled?(a.addEventListener("MSPointerDown",function(a){c.Wn(a)},t),a.addEventListener("MSPointerMove",function(a){c.Vn(a)},t),b.addEventListener("MSPointerUp",function(a){c.sk(a)},t),b.addEventListener("MSPointerCancel",function(a){c.sk(a)},
t),this.b.canvas&&(this.b.canvas.addEventListener("MSGestureHold",function(a){a.preventDefault()},t),document.addEventListener("MSGestureHold",function(a){a.preventDefault()},t))):(a.addEventListener("touchstart",function(a){c.vk(a)},t),a.addEventListener("touchmove",function(a){c.uk(a)},t),b.addEventListener("touchend",function(a){c.$h(a)},t),b.addEventListener("touchcancel",function(a){c.$h(a)},t));if(this.Hn){var e=function(a){a=a.reading;c.Wi=a.accelerationX;c.Xi=a.accelerationY;c.Yi=a.accelerationZ},
f=function(a){a=a.reading;c.cf=a.yawDegrees;c.df=a.pitchDegrees;c.ef=a.rollDegrees},g=Windows.Devices.Sensors.Accelerometer.getDefault();g&&(g.reportInterval=Math.max(g.minimumReportInterval,16),g.addEventListener("readingchanged",e));var k=Windows.Devices.Sensors.Inclinometer.getDefault();k&&(k.reportInterval=Math.max(k.minimumReportInterval,16),k.addEventListener("readingchanged",f));document.addEventListener("visibilitychange",function(){document.hidden||document.msHidden?(g&&g.removeEventListener("readingchanged",
e),k&&k.removeEventListener("readingchanged",f)):(g&&g.addEventListener("readingchanged",e),k&&k.addEventListener("readingchanged",f))},t)}else window.addEventListener("deviceorientation",function(a){c.cf=a.alpha||0;c.df=a.beta||0;c.ef=a.gamma||0},t),window.addEventListener("devicemotion",function(a){a.accelerationIncludingGravity&&(c.Ml=a.accelerationIncludingGravity.x,c.Nl=a.accelerationIncludingGravity.y,c.Ol=a.accelerationIncludingGravity.z);a.acceleration&&(c.Wi=a.acceleration.x,c.Xi=a.acceleration.y,
c.Yi=a.acceleration.z)},t);this.Go&&!this.b.Ua&&(jQuery(document).mousemove(function(a){c.Tn(a)}),jQuery(document).mousedown(function(a){c.Sn(a)}),jQuery(document).mouseup(function(a){c.Un(a)}));this.b.Rd&&!this.b.sb&&AppMobi.accelerometer.watchAcceleration(d,{frequency:40,adjustForRotation:m});this.b.Bd&&navigator.accelerometer.watchAcceleration(h,p,{frequency:40});this.b.Bo(this)};g.Vn=function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE){b.preventDefault&&b.preventDefault();var c=this.Ce(b.pointerId),
d=V();if(0<=c){var e=this.b.Ua?a:jQuery(this.b.canvas).offset(),c=this.touches[c];2>d-c.time||(c.jg=c.time,c.Gh=c.x,c.Hh=c.y,c.time=d,c.x=b.pageX-e.left,c.y=b.pageY-e.top)}}};g.Wn=function(b){if(b.pointerType!==b.MSPOINTER_TYPE_MOUSE){b.preventDefault&&b.preventDefault();var c=this.b.Ua?a:jQuery(this.b.canvas).offset(),d=b.pageX-c.left,c=b.pageY-c.top,e=V();this.fd=this.touches.length;this.Gg=b.pointerId;this.touches.push({time:e,x:d,y:c,jg:e,Gh:d,Hh:c,id:b.pointerId,Ci:this.fd});this.b.trigger(Zb.prototype.j.Ri,
this);this.b.trigger(Zb.prototype.j.Ui,this);this.Yg=d;this.Zg=c;this.b.trigger(Zb.prototype.j.Ti,this)}};g.sk=function(a){a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&(a.preventDefault&&a.preventDefault(),a=this.Ce(a.pointerId),this.fd=0<=a?this.touches[a].Ci:-1,this.Gg=0<=a?this.touches[a].id:-1,this.b.trigger(Zb.prototype.j.Qi,this),this.b.trigger(Zb.prototype.j.Si,this),0<=a&&this.touches.splice(a,1))};g.uk=function(b){b.preventDefault&&b.preventDefault();var c=V(),d,e,f,g;d=0;for(e=b.changedTouches.length;d<
e;d++)if(f=b.changedTouches[d],g=this.Ce(f.identifier),0<=g){var h=this.b.Ua?a:jQuery(this.b.canvas).offset();g=this.touches[g];2>c-g.time||(g.jg=g.time,g.Gh=g.x,g.Hh=g.y,g.time=c,g.x=f.pageX-h.left,g.y=f.pageY-h.top)}};g.vk=function(b){b.preventDefault&&b.preventDefault();var c=this.b.Ua?a:jQuery(this.b.canvas).offset(),d=V(),e,f,g,h;e=0;for(f=b.changedTouches.length;e<f;e++)if(g=b.changedTouches[e],h=this.Ce(g.identifier),-1===h){h=g.pageX-c.left;var k=g.pageY-c.top;this.fd=this.touches.length;
this.Gg=g.identifier;this.touches.push({time:d,x:h,y:k,jg:d,Gh:h,Hh:k,id:g.identifier,Ci:this.fd});this.b.trigger(Zb.prototype.j.Ri,this);this.b.trigger(Zb.prototype.j.Ui,this);this.Yg=h;this.Zg=k;this.b.trigger(Zb.prototype.j.Ti,this)}};g.$h=function(a){a.preventDefault&&a.preventDefault();var b,c,d;b=0;for(c=a.changedTouches.length;b<c;b++)d=a.changedTouches[b],d=this.Ce(d.identifier),this.fd=0<=d?this.touches[d].Ci:-1,this.Gg=0<=d?this.touches[d].id:-1,this.b.trigger(Zb.prototype.j.Qi,this),this.b.trigger(Zb.prototype.j.Si,
this),0<=d&&this.touches.splice(d,1)};g.Yp=function(){return this.b.Rd&&0===this.cf&&0!==c?90*c:this.b.Bd&&0===this.cf&&0!==r?90*r:this.cf};g.Zp=function(){return this.b.Rd&&0===this.df&&0!==f?-90*f:this.b.Bd&&0===this.df&&0!==n?-90*n:this.df};g.aq=function(){return this.b.Rd&&0===this.ef&&0!==b?90*b:this.b.Bd&&0===this.ef&&0!==k?90*k:this.ef};g.Sn=function(a){a.preventDefault&&this.b.Wf&&a.preventDefault();this.vk({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Rh=m};g.Tn=function(a){a.preventDefault&&
this.b.Wf&&a.preventDefault();this.Rh&&this.uk({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]})};g.Un=function(a){a.preventDefault&&this.b.Wf&&a.preventDefault();this.b.Wf=m;this.$h({changedTouches:[{pageX:a.pageX,pageY:a.pageY,identifier:0}]});this.Rh=t};g.Ei=function(){var a,b,c,d=V();a=0;for(b=this.touches.length;a<b;a++)c=this.touches[a],c.time<=d-50&&(c.jg=d)};l.prototype.Ui=Q(m);l.prototype.Si=Q(m);l.prototype.Ti=function(a){return!a?t:this.b.zo(a,this.Yg,this.Zg)};l.prototype.Ri=
function(a){a=Math.floor(a);return a===this.fd};l.prototype.Qi=function(a){a=Math.floor(a);return a===this.fd};e.j=new l;q.prototype.Jl=function(a,b){if(this.touches.length){var c,d,e,f,g;aa(b)?(c=this.b.Fe(0),d=c.scale,e=c.Gc,f=c.Tc,g=c.g,c.scale=this.b.O.scale,c.Gc=1,c.Tc=1,c.g=this.b.O.g,a.C(c.Qa(this.touches[0].x,this.touches[0].y,m)),c.scale=d,c.Gc=e,c.Tc=f,c.g=g):(c=ba(b)?this.b.Fe(b):this.b.qh(b))?a.C(c.Qa(this.touches[0].x,this.touches[0].y,m)):a.C(0)}else a.C(0)};q.prototype.Kl=function(a,
b){if(this.touches.length){var c,d,e,f,g;aa(b)?(c=this.b.Fe(0),d=c.scale,e=c.Gc,f=c.Uc,g=c.g,c.scale=this.b.O.scale,c.Gc=1,c.Uc=1,c.g=this.b.O.g,a.C(c.Qa(this.touches[0].x,this.touches[0].y,t)),c.scale=d,c.Gc=e,c.Uc=f,c.g=g):(c=ba(b)?this.b.Fe(b):this.b.qh(b))?a.C(c.Qa(this.touches[0].x,this.touches[0].y,t)):a.C(0)}else a.C(0)};e.Oc=new q})();function $b(d){this.b=d}
(function(){var d=$b.prototype;d.Db=function(d){this.wa=d;this.b=d.b};d.Db.prototype.na=M();d.Oa=function(d){this.type=d;this.b=d.b};d.Oa.prototype.na=M();d.j=new (M());d.ld=new (M());d.Oc=new (M())})();
function vb(){return[p,p,[[Wb,m,t,t,t,t,t,t,t,t],[Xb,m,t,t,t,t,t,t,t,t],[Yb,t,m,m,m,m,m,m,m,t],[Zb,m,t,t,t,t,t,t,t,t],[$b,m,t,t,t,t,t,t,t,t]],[["t0",$b,t,[],0,0,p,p,[],t,t,5348170403011429,[],[]],["t1",Zb,t,[],0,0,p,p,[],t,t,5360238741765463,[],[1]],["t2",Xb,t,[],0,0,p,p,[],t,t,0x8126f96920bbe,[],[]],["t3",Wb,t,[],0,0,p,p,[],t,t,432376389717995,[],[0,1,1,600,600,1E4,1,5E3,1]],["t4",Yb,t,[],0,0,p,[["Default",5,t,1,0,t,6087813396055141,[["images/sprite-sheet0.png",155,0,0,250,250,1,0.5,0.5,[],[],1]]]],
[],t,t,945227693447227,[]]],[],[["Layout 1",1280,1024,t,"Event sheet 1",0xe38cfd1e7d65c,[["Layer 0",0,5219311130234725,m,[255,255,255],t,1,1,1,t,1,0,0,[[[352,254,0,250,250,0,0,1,0.5,0.5,0,0,[]],4,4,[],[],[0,"Default",0,1]]],[]]],[],[]]],[["Event sheet 1",[]]],"media/",t,640,480,4,m,m,t,"1.0",1,t,0,m,5,t,[]]};
